/*
 * Academic License - for use in teaching, academic research, and meeting
 * course requirements at degree granting institutions only.  Not for
 * government, commercial, or other organizational use.
 *
 * File: carsim_ekf_onlyfunction.c
 *
 * Code generated for Simulink model 'carsim_ekf_onlyfunction'.
 *
 * Model version                  : 2.12
 * Simulink Coder version         : 24.1 (R2024a) 19-Nov-2023
 * C/C++ source code generated on : Thu Apr 25 20:21:24 2024
 *
 * Target selection: ert.tlc
 * Embedded hardware selection: Intel->x86-64 (Windows64)
 * Code generation objectives:
 *    1. Execution efficiency
 *    2. RAM efficiency
 * Validation result: Not run
 */

#include "carsim_ekf_onlyfunction.h"
#include "rtwtypes.h"
#include <emmintrin.h>
#include <string.h>
#include "rt_nonfinite.h"
#include <math.h>
#include "rt_hypotd_snf.h"
#include "eml_rand_shr3cong_vrLt4K7H.h"
#include "genrandu_rGQGCObS.h"
#include "genrand_uint32_vector_qilyMafa.h"
#include "genrandu_jPVD3Unn.h"
#include "div_nde_s32_floor.h"

/* Private macros used by the generated code to access rtModel */
#ifndef rtmIsMajorTimeStep
#define rtmIsMajorTimeStep(rtm)        (((rtm)->Timing.simTimeStep) == MAJOR_TIME_STEP)
#endif

#ifndef rtmIsMinorTimeStep
#define rtmIsMinorTimeStep(rtm)        (((rtm)->Timing.simTimeStep) == MINOR_TIME_STEP)
#endif

#ifndef rtmSetTPtr
#define rtmSetTPtr(rtm, val)           ((rtm)->Timing.t = (val))
#endif

/* Block signals and states (default storage) */
DW rtDW;

/* Real-time model */
static RT_MODEL rtM_;
RT_MODEL *const rtM = &rtM_;
extern const real_T rtCP_pooled_BrF7RapXGBLM[9];
extern const real_T rtCP_pooled_MHWz5kUtmbx4[9];
extern const real_T rtCP_pooled_Q4cddNHAmHWP[9];

#define rtCP_G_Value                   rtCP_pooled_BrF7RapXGBLM  /* Expression: [Ts 0 0;0 Ts 0;0 0 1]
                                                                  * Referenced by: '<S2>/G'
                                                                  */
#define rtCP_G_Value_o                 rtCP_pooled_BrF7RapXGBLM  /* Expression: [Ts 0 0;0 Ts 0;0 0 1]
                                                                  * Referenced by: '<S4>/G'
                                                                  */
#define rtCP_Q_Value                   rtCP_pooled_MHWz5kUtmbx4  /* Expression: p.Q
                                                                  * Referenced by: '<S1>/Q'
                                                                  */
#define rtCP_DataStoreMemoryP_InitialVa rtCP_pooled_Q4cddNHAmHWP /* Expression: p.InitialCovariance
                                                                  * Referenced by: '<S1>/DataStoreMemory - P'
                                                                  */

/* Forward declaration for local functions */
static void randn_p(real_T r[3]);
static void randn(real_T r[4]);
static real_T xzlangeM(const real_T x[16]);
static void xzlascl(real_T cfrom, real_T cto, real_T A[16]);
static real_T xnrm2(int32_T n, const real_T x[16], int32_T ix0);
static real_T xdotc(int32_T n, const real_T x[16], int32_T ix0, const real_T y
                    [16], int32_T iy0);
static void xaxpy(int32_T n, real_T a, int32_T ix0, real_T y[16], int32_T iy0);
static real_T xnrm2_a(int32_T n, const real_T x[4], int32_T ix0);
static void xaxpy_a(int32_T n, real_T a, const real_T x[16], int32_T ix0, real_T
                    y[4], int32_T iy0);
static void xaxpy_al(int32_T n, real_T a, const real_T x[4], int32_T ix0, real_T
                     y[16], int32_T iy0);
static void xzlascl_a(real_T cfrom, real_T cto, real_T A[4]);
static void xswap_a(real_T x[16], int32_T ix0, int32_T iy0);
static void xrotg(real_T a, real_T b, real_T *b_a, real_T *b_b, real_T *c,
                  real_T *s);
static void xrot_a(real_T x[16], int32_T ix0, int32_T iy0, real_T c, real_T s);
static void svd(const real_T A[16], real_T U[16], real_T s[4], real_T V[16]);
static real_T xnrm2_al(int32_T n, const real_T x[28], int32_T ix0);
static void EKFCorrectorNonAdditive_getMeas(const real_T Rs[16], const real_T x
  [3], const real_T S[9], real_T zEstimated[4], real_T Pxy[12], real_T Sy[16],
  real_T dhdx[12], real_T Rsqrt[16]);
static void trisolve(const real_T A[16], real_T B_0[12]);
static void trisolve_a(const real_T A[16], real_T B_2[12]);
static real_T xnrm2_alz(int32_T n, const real_T x[21], int32_T ix0);
static void qrFactor(const real_T A[9], const real_T S[9], const real_T Ns[12],
                     real_T b_S[9]);
static real_T xnrm2_alzr(int32_T n, const real_T x[18], int32_T ix0);
static void qr(const real_T A[18], real_T Q[18], real_T R[9]);

/* Output and update for Simulink Function: '<Root>/Simulink Function' */
void carsim_ekf_onlyfunction_stateTransitionFcn(const real_T rtu_x[3], const
  real_T rtu_w[3], real_T rty_xNext[3])
{
  __m128d tmp_2;
  real_T rtb_Add[3];
  real_T tmp_3[2];
  real_T tmp;
  real_T tmp_0;
  real_T tmp_1;
  int32_T i;

  /* SignalConversion generated from: '<S2>/u' incorporates:
   *  SignalConversion generated from: '<S2>/w'
   */
  tmp_2 = _mm_add_pd(_mm_loadu_pd(&rtDW.TmpRTBAtSimulinkFunctionInport1[0]),
                     _mm_loadu_pd(&rtu_w[0]));
  _mm_storeu_pd(&tmp_3[0], tmp_2);

  /* Sum: '<S2>/Add2' incorporates:
   *  SignalConversion generated from: '<S2>/u'
   *  SignalConversion generated from: '<S2>/w'
   */
  tmp = tmp_3[0];
  tmp_0 = tmp_3[1];
  tmp_1 = rtDW.TmpRTBAtSimulinkFunctionInport1[2] + rtu_w[2];

  /* Product: '<S2>/Matrix Multiply' incorporates:
   *  Constant: '<S2>/G'
   */
  for (i = 0; i <= 0; i += 2) {
    _mm_storeu_pd(&rtb_Add[i], _mm_add_pd(_mm_add_pd(_mm_mul_pd(_mm_loadu_pd
      (&rtCP_G_Value[i + 3]), _mm_set1_pd(tmp_0)), _mm_mul_pd(_mm_loadu_pd
      (&rtCP_G_Value[i]), _mm_set1_pd(tmp))), _mm_mul_pd(_mm_loadu_pd
      (&rtCP_G_Value[i + 6]), _mm_set1_pd(tmp_1))));
  }

  for (i = 2; i < 3; i++) {
    rtb_Add[i] = (rtCP_G_Value[i + 3] * tmp_0 + rtCP_G_Value[i] * tmp) +
      rtCP_G_Value[i + 6] * tmp_1;
  }

  /* End of Product: '<S2>/Matrix Multiply' */

  /* SignalConversion generated from: '<S2>/xNext' incorporates:
   *  MATLAB Function: '<S2>/MATLAB Function1'
   *  MATLAB Function: '<S2>/MATLAB Function3'
   *  SignalConversion generated from: '<S2>/x'
   *  Sum: '<S2>/Add'
   */
  rty_xNext[0] = (0.01 * rtu_x[1] * rtu_x[2] + rtu_x[0]) + rtb_Add[0];
  rty_xNext[1] = (rtu_x[1] - 0.01 * rtu_x[0] * rtu_x[2]) + rtb_Add[1];
  rty_xNext[2] = rtb_Add[2];
}

/* Output and update for Simulink Function: '<Root>/Simulink Function1' */
void carsim_ekf_onlyfunction_MeasurmentFcn(const real_T rtu_x[3], const real_T
  rtu_v[4], real_T rty_y[4])
{
  real_T tmp[12];
  real_T rtu_x_0;
  real_T rtu_x_1;
  real_T rtu_x_2;
  int32_T i;

  /* MATLAB Function: '<S3>/MATLAB Function' incorporates:
   *  Constant: '<S3>/Constant3'
   *  Constant: '<S3>/Constant4'
   *  Constant: '<S3>/Constant5'
   */
  tmp[0] = 1.0;
  tmp[4] = 0.0;
  tmp[8] = -0.62;
  tmp[1] = 1.0;
  tmp[5] = 0.0;
  tmp[9] = 0.62;
  tmp[2] = 1.0;
  tmp[6] = 0.0;
  tmp[10] = -0.605;
  tmp[3] = 1.0;
  tmp[7] = 0.0;
  tmp[11] = 0.605;

  /* SignalConversion generated from: '<S3>/x' incorporates:
   *  Product: '<S3>/Matrix Multiply'
   */
  rtu_x_0 = rtu_x[1];
  rtu_x_1 = rtu_x[0];
  rtu_x_2 = rtu_x[2];

  /* SignalConversion generated from: '<S3>/y' incorporates:
   *  Product: '<S3>/Matrix Multiply'
   *  SignalConversion generated from: '<S3>/x'
   *  Sum: '<S3>/Add'
   */
  for (i = 0; i <= 2; i += 2) {
    __m128d tmp_0;
    __m128d tmp_1;
    __m128d tmp_2;
    __m128d tmp_3;

    /* Sum: '<S3>/Add' incorporates:
     *  Product: '<S3>/Matrix Multiply'
     *  SignalConversion generated from: '<S3>/v'
     */
    tmp_0 = _mm_loadu_pd(&tmp[i + 4]);
    tmp_1 = _mm_loadu_pd(&tmp[i]);
    tmp_2 = _mm_loadu_pd(&tmp[i + 8]);
    tmp_3 = _mm_loadu_pd(&rtu_v[i]);
    _mm_storeu_pd(&rty_y[i], _mm_add_pd(_mm_add_pd(_mm_add_pd(_mm_mul_pd(tmp_0,
      _mm_set1_pd(rtu_x_0)), _mm_mul_pd(tmp_1, _mm_set1_pd(rtu_x_1))),
      _mm_mul_pd(tmp_2, _mm_set1_pd(rtu_x_2))), tmp_3));
  }

  /* End of SignalConversion generated from: '<S3>/y' */
}

/* Output and update for Simulink Function: '<Root>/Simulink Function2' */
void carsim_ekf_onlyfunction_stateTransitionJacobianFcn(const real_T rtu_x[3],
  const real_T rtu_w[3], real_T rty_A[9], real_T rty_G[9])
{
  real_T tmp[2];
  UNUSED_PARAMETER(rtu_w);

  /* SignalConversion generated from: '<S4>/G~' incorporates:
   *  Constant: '<S4>/G'
   */
  memcpy(&rty_G[0], &rtCP_G_Value_o[0], 9U * sizeof(real_T));

  /* SignalConversion generated from: '<S4>/A' incorporates:
   *  MATLAB Function: '<S4>/MATLAB Function3'
   */
  rty_A[0] = 1.0;

  /* MATLAB Function: '<S4>/MATLAB Function3' incorporates:
   *  SignalConversion generated from: '<S4>/A'
   *  SignalConversion generated from: '<S4>/x'
   */
  _mm_storeu_pd(&tmp[0], _mm_mul_pd(_mm_set1_pd(0.01), _mm_set_pd(rtu_x[1],
    rtu_x[2])));
  rty_A[3] = tmp[0];
  rty_A[6] = tmp[1];

  /* SignalConversion generated from: '<S4>/A' incorporates:
   *  MATLAB Function: '<S4>/MATLAB Function3'
   *  SignalConversion generated from: '<S4>/x'
   */
  rty_A[1] = -0.01 * rtu_x[2];
  rty_A[4] = 1.0;
  rty_A[7] = -0.01 * rtu_x[0];
  rty_A[2] = 0.0;
  rty_A[5] = 0.0;
  rty_A[8] = 0.0;
}

/* Function for MATLAB Function: '<S7>/MATLAB Function1' */
static void randn_p(real_T r[3])
{
  real_T c_t;
  real_T c_u;
  real_T x;
  int32_T b_k;
  int32_T i;
  uint32_T u32[2];
  uint32_T b_state;
  uint32_T e_state;
  static const real_T b[257] = { 0.0, 0.215241895984875, 0.286174591792068,
    0.335737519214422, 0.375121332878378, 0.408389134611989, 0.43751840220787,
    0.46363433679088, 0.487443966139235, 0.50942332960209, 0.529909720661557,
    0.549151702327164, 0.567338257053817, 0.584616766106378, 0.601104617755991,
    0.61689699000775, 0.63207223638606, 0.646695714894993, 0.660822574244419,
    0.674499822837293, 0.687767892795788, 0.700661841106814, 0.713212285190975,
    0.725446140909999, 0.737387211434295, 0.749056662017815, 0.760473406430107,
    0.771654424224568, 0.782615023307232, 0.793369058840623, 0.80392911698997,
    0.814306670135215, 0.824512208752291, 0.834555354086381, 0.844444954909153,
    0.854189171008163, 0.863795545553308, 0.87327106808886, 0.882622229585165,
    0.891855070732941, 0.900975224461221, 0.909987953496718, 0.91889818364959,
    0.927710533401999, 0.936429340286575, 0.945058684468165, 0.953602409881086,
    0.96206414322304, 0.970447311064224, 0.978755155294224, 0.986990747099062,
    0.99515699963509, 1.00325667954467, 1.01129241744, 1.01926671746548,
    1.02718196603564, 1.03504043983344, 1.04284431314415, 1.05059566459093,
    1.05829648333067, 1.06594867476212, 1.07355406579244, 1.0811144097034,
    1.08863139065398, 1.09610662785202, 1.10354167942464, 1.11093804601357,
    1.11829717411934, 1.12562045921553, 1.13290924865253, 1.14016484436815,
    1.14738850542085, 1.15458145035993, 1.16174485944561, 1.16887987673083,
    1.17598761201545, 1.18306914268269, 1.19012551542669, 1.19715774787944,
    1.20416683014438, 1.2111537262437, 1.21811937548548, 1.22506469375653,
    1.23199057474614, 1.23889789110569, 1.24578749554863, 1.2526602218949,
    1.25951688606371, 1.26635828701823, 1.27318520766536, 1.27999841571382,
    1.28679866449324, 1.29358669373695, 1.30036323033084, 1.30712898903073,
    1.31388467315022, 1.32063097522106, 1.32736857762793, 1.33409815321936,
    1.3408203658964, 1.34753587118059, 1.35424531676263, 1.36094934303328,
    1.36764858359748, 1.37434366577317, 1.38103521107586, 1.38772383568998,
    1.39441015092814, 1.40109476367925, 1.4077782768464, 1.41446128977547,
    1.42114439867531, 1.42782819703026, 1.43451327600589, 1.44120022484872,
    1.44788963128058, 1.45458208188841, 1.46127816251028, 1.46797845861808,
    1.47468355569786, 1.48139403962819, 1.48811049705745, 1.49483351578049,
    1.50156368511546, 1.50830159628131, 1.51504784277671, 1.521803020761,
    1.52856772943771, 1.53534257144151, 1.542128153229, 1.54892508547417,
    1.55573398346918, 1.56255546753104, 1.56939016341512, 1.57623870273591,
    1.58310172339603, 1.58997987002419, 1.59687379442279, 1.60378415602609,
    1.61071162236983, 1.61765686957301, 1.62462058283303, 1.63160345693487,
    1.63860619677555, 1.64562951790478, 1.65267414708306, 1.65974082285818,
    1.66683029616166, 1.67394333092612, 1.68108070472517, 1.68824320943719,
    1.69543165193456, 1.70264685479992, 1.7098896570713, 1.71716091501782,
    1.72446150294804, 1.73179231405296, 1.73915426128591, 1.74654827828172,
    1.75397532031767, 1.76143636531891, 1.76893241491127, 1.77646449552452,
    1.78403365954944, 1.79164098655216, 1.79928758454972, 1.80697459135082,
    1.81470317596628, 1.82247454009388, 1.83028991968276, 1.83815058658281,
    1.84605785028518, 1.8540130597602, 1.86201760539967, 1.87007292107127,
    1.878180486293, 1.88634182853678, 1.8945585256707, 1.90283220855043,
    1.91116456377125, 1.91955733659319, 1.92801233405266, 1.93653142827569,
    1.94511656000868, 1.95376974238465, 1.96249306494436, 1.97128869793366,
    1.98015889690048, 1.98910600761744, 1.99813247135842, 2.00724083056053,
    2.0164337349062, 2.02571394786385, 2.03508435372962, 2.04454796521753,
    2.05410793165065, 2.06376754781173, 2.07353026351874, 2.0833996939983,
    2.09337963113879, 2.10347405571488, 2.11368715068665, 2.12402331568952,
    2.13448718284602, 2.14508363404789, 2.15581781987674, 2.16669518035431,
    2.17772146774029, 2.18890277162636, 2.20024554661128, 2.21175664288416,
    2.22344334009251, 2.23531338492992, 2.24737503294739, 2.25963709517379,
    2.27210899022838, 2.28480080272449, 2.29772334890286, 2.31088825060137,
    2.32430801887113, 2.33799614879653, 2.35196722737914, 2.36623705671729,
    2.38082279517208, 2.39574311978193, 2.41101841390112, 2.42667098493715,
    2.44272531820036, 2.4592083743347, 2.47614993967052, 2.49358304127105,
    2.51154444162669, 2.53007523215985, 2.54922155032478, 2.56903545268184,
    2.58957598670829, 2.61091051848882, 2.63311639363158, 2.65628303757674,
    2.68051464328574, 2.70593365612306, 2.73268535904401, 2.76094400527999,
    2.79092117400193, 2.82287739682644, 2.85713873087322, 2.89412105361341,
    2.93436686720889, 2.97860327988184, 3.02783779176959, 3.08352613200214,
    3.147889289518, 3.2245750520478, 3.32024473383983, 3.44927829856143,
    3.65415288536101, 3.91075795952492 };

  static const real_T c[257] = { 1.0, 0.977101701267673, 0.959879091800108,
    0.9451989534423, 0.932060075959231, 0.919991505039348, 0.908726440052131,
    0.898095921898344, 0.887984660755834, 0.878309655808918, 0.869008688036857,
    0.860033621196332, 0.851346258458678, 0.842915653112205, 0.834716292986884,
    0.826726833946222, 0.818929191603703, 0.811307874312656, 0.803849483170964,
    0.796542330422959, 0.789376143566025, 0.782341832654803, 0.775431304981187,
    0.768637315798486, 0.761953346836795, 0.755373506507096, 0.748892447219157,
    0.742505296340151, 0.736207598126863, 0.729995264561476, 0.72386453346863,
    0.717811932630722, 0.711834248878248, 0.705928501332754, 0.700091918136512,
    0.694321916126117, 0.688616083004672, 0.682972161644995, 0.677388036218774,
    0.671861719897082, 0.66639134390875, 0.660975147776663, 0.655611470579697,
    0.650298743110817, 0.645035480820822, 0.639820277453057, 0.634651799287624,
    0.629528779924837, 0.624450015547027, 0.619414360605834, 0.614420723888914,
    0.609468064925773, 0.604555390697468, 0.599681752619125, 0.594846243767987,
    0.590047996332826, 0.585286179263371, 0.580559996100791, 0.575868682972354,
    0.571211506735253, 0.566587763256165, 0.561996775814525, 0.557437893618766,
    0.552910490425833, 0.548413963255266, 0.543947731190026, 0.539511234256952,
    0.535103932380458, 0.530725304403662, 0.526374847171684, 0.522052074672322,
    0.517756517229756, 0.513487720747327, 0.509245245995748, 0.505028667943468,
    0.500837575126149, 0.49667156905249, 0.492530263643869, 0.488413284705458,
    0.484320269426683, 0.480250865909047, 0.476204732719506, 0.47218153846773,
    0.468180961405694, 0.464202689048174, 0.460246417812843, 0.456311852678716,
    0.452398706861849, 0.448506701507203, 0.444635565395739, 0.440785034665804,
    0.436954852547985, 0.433144769112652, 0.429354541029442, 0.425583931338022,
    0.421832709229496, 0.418100649837848, 0.414387534040891, 0.410693148270188,
    0.407017284329473, 0.403359739221114, 0.399720314980197, 0.396098818515832,
    0.392495061459315, 0.388908860018789, 0.385340034840077, 0.381788410873393,
    0.378253817245619, 0.374736087137891, 0.371235057668239, 0.367750569779032,
    0.364282468129004, 0.360830600989648, 0.357394820145781, 0.353974980800077,
    0.350570941481406, 0.347182563956794, 0.343809713146851, 0.340452257044522,
    0.337110066637006, 0.333783015830718, 0.330470981379163, 0.327173842813601,
    0.323891482376391, 0.320623784956905, 0.317370638029914, 0.314131931596337,
    0.310907558126286, 0.307697412504292, 0.30450139197665, 0.301319396100803,
    0.298151326696685, 0.294997087799962, 0.291856585617095, 0.288729728482183,
    0.285616426815502, 0.282516593083708, 0.279430141761638, 0.276356989295668,
    0.273297054068577, 0.270250256365875, 0.267216518343561, 0.264195763997261,
    0.261187919132721, 0.258192911337619, 0.255210669954662, 0.252241126055942,
    0.249284212418529, 0.246339863501264, 0.24340801542275, 0.240488605940501,
    0.237581574431238, 0.23468686187233, 0.231804410824339, 0.228934165414681,
    0.226076071322381, 0.223230075763918, 0.220396127480152, 0.217574176724331,
    0.214764175251174, 0.211966076307031, 0.209179834621125, 0.206405406397881,
    0.203642749310335, 0.200891822494657, 0.198152586545776, 0.195425003514135,
    0.192709036903589, 0.190004651670465, 0.187311814223801, 0.1846304924268,
    0.181960655599523, 0.179302274522848, 0.176655321443735, 0.174019770081839,
    0.171395595637506, 0.168782774801212, 0.166181285764482, 0.163591108232366,
    0.161012223437511, 0.158444614155925, 0.15588826472448, 0.153343161060263,
    0.150809290681846, 0.148286642732575, 0.145775208005994, 0.143274978973514,
    0.140785949814445, 0.138308116448551, 0.135841476571254, 0.133386029691669,
    0.130941777173644, 0.12850872228, 0.126086870220186, 0.123676228201597,
    0.12127680548479, 0.11888861344291, 0.116511665625611, 0.114145977827839,
    0.111791568163838, 0.109448457146812, 0.107116667774684, 0.104796225622487,
    0.102487158941935, 0.10018949876881, 0.0979032790388625, 0.095628536713009,
    0.093365311912691, 0.0911136480663738, 0.0888735920682759,
    0.0866451944505581, 0.0844285095703535, 0.082223595813203,
    0.0800305158146631, 0.0778493367020961, 0.0756801303589272,
    0.0735229737139814, 0.0713779490588905, 0.0692451443970068,
    0.0671246538277886, 0.065016577971243, 0.0629210244377582, 0.06083810834954,
    0.0587679529209339, 0.0567106901062031, 0.0546664613248891,
    0.0526354182767924, 0.0506177238609479, 0.0486135532158687,
    0.0466230949019305, 0.0446465522512946, 0.0426841449164746,
    0.0407361106559411, 0.0388027074045262, 0.0368842156885674,
    0.0349809414617162, 0.0330932194585786, 0.0312214171919203,
    0.0293659397581334, 0.0275272356696031, 0.0257058040085489,
    0.0239022033057959, 0.0221170627073089, 0.0203510962300445,
    0.0186051212757247, 0.0168800831525432, 0.0151770883079353,
    0.0134974506017399, 0.0118427578579079, 0.0102149714397015,
    0.00861658276939875, 0.00705087547137324, 0.00552240329925101,
    0.00403797259336304, 0.00260907274610216, 0.0012602859304986,
    0.000477467764609386 };

  int32_T exitg1;
  switch (rtDW.method) {
   case 0U:
    switch (rtDW.method_n) {
     case 4U:
      b_state = rtDW.state_n;
      do {
        genrandu_rGQGCObS(b_state, &e_state, &x);
        genrandu_rGQGCObS(e_state, &b_state, &c_t);
        x = 2.0 * x - 1.0;
        c_t = 2.0 * c_t - 1.0;
        c_t = c_t * c_t + x * x;
      } while (!(c_t <= 1.0));

      r[0] = sqrt(-2.0 * log(c_t) / c_t) * x;
      do {
        genrandu_rGQGCObS(b_state, &e_state, &x);
        genrandu_rGQGCObS(e_state, &b_state, &c_t);
        x = 2.0 * x - 1.0;
        c_t = 2.0 * c_t - 1.0;
        c_t = c_t * c_t + x * x;
      } while (!(c_t <= 1.0));

      r[1] = sqrt(-2.0 * log(c_t) / c_t) * x;
      do {
        genrandu_rGQGCObS(b_state, &e_state, &x);
        genrandu_rGQGCObS(e_state, &b_state, &c_t);
        x = 2.0 * x - 1.0;
        c_t = 2.0 * c_t - 1.0;
        c_t = c_t * c_t + x * x;
      } while (!(c_t <= 1.0));

      r[2] = sqrt(-2.0 * log(c_t) / c_t) * x;
      rtDW.state_n = b_state;
      break;

     case 5U:
      r[0] = eml_rand_shr3cong_vrLt4K7H(rtDW.state_j);
      r[1] = eml_rand_shr3cong_vrLt4K7H(rtDW.state_j);
      r[2] = eml_rand_shr3cong_vrLt4K7H(rtDW.state_j);
      break;

     default:
      for (b_k = 0; b_k < 3; b_k++) {
        do {
          exitg1 = 0;
          genrand_uint32_vector_qilyMafa(rtDW.state_jx, u32);
          i = (int32_T)((u32[1] >> 24U) + 1U);
          c_t = (((real_T)(u32[0] >> 3U) * 1.6777216E+7 + (real_T)((int32_T)u32
                   [1] & 16777215)) * 2.2204460492503131E-16 - 1.0) * b[i];
          if (fabs(c_t) <= b[i - 1]) {
            exitg1 = 1;
          } else if (i < 256) {
            x = genrandu_jPVD3Unn(rtDW.state_jx);
            if ((c[i - 1] - c[i]) * x + c[i] < exp(-0.5 * c_t * c_t)) {
              exitg1 = 1;
            }
          } else {
            do {
              x = genrandu_jPVD3Unn(rtDW.state_jx);
              x = log(x) * 0.273661237329758;
              c_u = genrandu_jPVD3Unn(rtDW.state_jx);
            } while (!(-2.0 * log(c_u) > x * x));

            if (c_t < 0.0) {
              c_t = x - 3.65415288536101;
            } else {
              c_t = 3.65415288536101 - x;
            }

            exitg1 = 1;
          }
        } while (exitg1 == 0);

        r[b_k] = c_t;
      }
      break;
    }
    break;

   case 4U:
    b_state = rtDW.state[0];
    do {
      genrandu_rGQGCObS(b_state, &e_state, &x);
      genrandu_rGQGCObS(e_state, &b_state, &c_t);
      x = 2.0 * x - 1.0;
      c_t = 2.0 * c_t - 1.0;
      c_t = c_t * c_t + x * x;
    } while (!(c_t <= 1.0));

    r[0] = sqrt(-2.0 * log(c_t) / c_t) * x;
    rtDW.state[0] = b_state;
    b_state = rtDW.state[0];
    do {
      genrandu_rGQGCObS(b_state, &e_state, &x);
      genrandu_rGQGCObS(e_state, &b_state, &c_t);
      x = 2.0 * x - 1.0;
      c_t = 2.0 * c_t - 1.0;
      c_t = c_t * c_t + x * x;
    } while (!(c_t <= 1.0));

    r[1] = sqrt(-2.0 * log(c_t) / c_t) * x;
    rtDW.state[0] = b_state;
    b_state = rtDW.state[0];
    do {
      genrandu_rGQGCObS(b_state, &e_state, &x);
      genrandu_rGQGCObS(e_state, &b_state, &c_t);
      x = 2.0 * x - 1.0;
      c_t = 2.0 * c_t - 1.0;
      c_t = c_t * c_t + x * x;
    } while (!(c_t <= 1.0));

    r[2] = sqrt(-2.0 * log(c_t) / c_t) * x;
    rtDW.state[0] = b_state;
    break;

   default:
    r[0] = eml_rand_shr3cong_vrLt4K7H(rtDW.state);
    r[1] = eml_rand_shr3cong_vrLt4K7H(rtDW.state);
    r[2] = eml_rand_shr3cong_vrLt4K7H(rtDW.state);
    break;
  }
}

/* Function for MATLAB Function: '<S5>/MATLAB Function' */
static void randn(real_T r[4])
{
  real_T c_t;
  real_T c_u;
  real_T x;
  int32_T b_k;
  int32_T i;
  uint32_T u32[2];
  uint32_T b_state;
  uint32_T e_state;
  static const real_T b[257] = { 0.0, 0.215241895984875, 0.286174591792068,
    0.335737519214422, 0.375121332878378, 0.408389134611989, 0.43751840220787,
    0.46363433679088, 0.487443966139235, 0.50942332960209, 0.529909720661557,
    0.549151702327164, 0.567338257053817, 0.584616766106378, 0.601104617755991,
    0.61689699000775, 0.63207223638606, 0.646695714894993, 0.660822574244419,
    0.674499822837293, 0.687767892795788, 0.700661841106814, 0.713212285190975,
    0.725446140909999, 0.737387211434295, 0.749056662017815, 0.760473406430107,
    0.771654424224568, 0.782615023307232, 0.793369058840623, 0.80392911698997,
    0.814306670135215, 0.824512208752291, 0.834555354086381, 0.844444954909153,
    0.854189171008163, 0.863795545553308, 0.87327106808886, 0.882622229585165,
    0.891855070732941, 0.900975224461221, 0.909987953496718, 0.91889818364959,
    0.927710533401999, 0.936429340286575, 0.945058684468165, 0.953602409881086,
    0.96206414322304, 0.970447311064224, 0.978755155294224, 0.986990747099062,
    0.99515699963509, 1.00325667954467, 1.01129241744, 1.01926671746548,
    1.02718196603564, 1.03504043983344, 1.04284431314415, 1.05059566459093,
    1.05829648333067, 1.06594867476212, 1.07355406579244, 1.0811144097034,
    1.08863139065398, 1.09610662785202, 1.10354167942464, 1.11093804601357,
    1.11829717411934, 1.12562045921553, 1.13290924865253, 1.14016484436815,
    1.14738850542085, 1.15458145035993, 1.16174485944561, 1.16887987673083,
    1.17598761201545, 1.18306914268269, 1.19012551542669, 1.19715774787944,
    1.20416683014438, 1.2111537262437, 1.21811937548548, 1.22506469375653,
    1.23199057474614, 1.23889789110569, 1.24578749554863, 1.2526602218949,
    1.25951688606371, 1.26635828701823, 1.27318520766536, 1.27999841571382,
    1.28679866449324, 1.29358669373695, 1.30036323033084, 1.30712898903073,
    1.31388467315022, 1.32063097522106, 1.32736857762793, 1.33409815321936,
    1.3408203658964, 1.34753587118059, 1.35424531676263, 1.36094934303328,
    1.36764858359748, 1.37434366577317, 1.38103521107586, 1.38772383568998,
    1.39441015092814, 1.40109476367925, 1.4077782768464, 1.41446128977547,
    1.42114439867531, 1.42782819703026, 1.43451327600589, 1.44120022484872,
    1.44788963128058, 1.45458208188841, 1.46127816251028, 1.46797845861808,
    1.47468355569786, 1.48139403962819, 1.48811049705745, 1.49483351578049,
    1.50156368511546, 1.50830159628131, 1.51504784277671, 1.521803020761,
    1.52856772943771, 1.53534257144151, 1.542128153229, 1.54892508547417,
    1.55573398346918, 1.56255546753104, 1.56939016341512, 1.57623870273591,
    1.58310172339603, 1.58997987002419, 1.59687379442279, 1.60378415602609,
    1.61071162236983, 1.61765686957301, 1.62462058283303, 1.63160345693487,
    1.63860619677555, 1.64562951790478, 1.65267414708306, 1.65974082285818,
    1.66683029616166, 1.67394333092612, 1.68108070472517, 1.68824320943719,
    1.69543165193456, 1.70264685479992, 1.7098896570713, 1.71716091501782,
    1.72446150294804, 1.73179231405296, 1.73915426128591, 1.74654827828172,
    1.75397532031767, 1.76143636531891, 1.76893241491127, 1.77646449552452,
    1.78403365954944, 1.79164098655216, 1.79928758454972, 1.80697459135082,
    1.81470317596628, 1.82247454009388, 1.83028991968276, 1.83815058658281,
    1.84605785028518, 1.8540130597602, 1.86201760539967, 1.87007292107127,
    1.878180486293, 1.88634182853678, 1.8945585256707, 1.90283220855043,
    1.91116456377125, 1.91955733659319, 1.92801233405266, 1.93653142827569,
    1.94511656000868, 1.95376974238465, 1.96249306494436, 1.97128869793366,
    1.98015889690048, 1.98910600761744, 1.99813247135842, 2.00724083056053,
    2.0164337349062, 2.02571394786385, 2.03508435372962, 2.04454796521753,
    2.05410793165065, 2.06376754781173, 2.07353026351874, 2.0833996939983,
    2.09337963113879, 2.10347405571488, 2.11368715068665, 2.12402331568952,
    2.13448718284602, 2.14508363404789, 2.15581781987674, 2.16669518035431,
    2.17772146774029, 2.18890277162636, 2.20024554661128, 2.21175664288416,
    2.22344334009251, 2.23531338492992, 2.24737503294739, 2.25963709517379,
    2.27210899022838, 2.28480080272449, 2.29772334890286, 2.31088825060137,
    2.32430801887113, 2.33799614879653, 2.35196722737914, 2.36623705671729,
    2.38082279517208, 2.39574311978193, 2.41101841390112, 2.42667098493715,
    2.44272531820036, 2.4592083743347, 2.47614993967052, 2.49358304127105,
    2.51154444162669, 2.53007523215985, 2.54922155032478, 2.56903545268184,
    2.58957598670829, 2.61091051848882, 2.63311639363158, 2.65628303757674,
    2.68051464328574, 2.70593365612306, 2.73268535904401, 2.76094400527999,
    2.79092117400193, 2.82287739682644, 2.85713873087322, 2.89412105361341,
    2.93436686720889, 2.97860327988184, 3.02783779176959, 3.08352613200214,
    3.147889289518, 3.2245750520478, 3.32024473383983, 3.44927829856143,
    3.65415288536101, 3.91075795952492 };

  static const real_T c[257] = { 1.0, 0.977101701267673, 0.959879091800108,
    0.9451989534423, 0.932060075959231, 0.919991505039348, 0.908726440052131,
    0.898095921898344, 0.887984660755834, 0.878309655808918, 0.869008688036857,
    0.860033621196332, 0.851346258458678, 0.842915653112205, 0.834716292986884,
    0.826726833946222, 0.818929191603703, 0.811307874312656, 0.803849483170964,
    0.796542330422959, 0.789376143566025, 0.782341832654803, 0.775431304981187,
    0.768637315798486, 0.761953346836795, 0.755373506507096, 0.748892447219157,
    0.742505296340151, 0.736207598126863, 0.729995264561476, 0.72386453346863,
    0.717811932630722, 0.711834248878248, 0.705928501332754, 0.700091918136512,
    0.694321916126117, 0.688616083004672, 0.682972161644995, 0.677388036218774,
    0.671861719897082, 0.66639134390875, 0.660975147776663, 0.655611470579697,
    0.650298743110817, 0.645035480820822, 0.639820277453057, 0.634651799287624,
    0.629528779924837, 0.624450015547027, 0.619414360605834, 0.614420723888914,
    0.609468064925773, 0.604555390697468, 0.599681752619125, 0.594846243767987,
    0.590047996332826, 0.585286179263371, 0.580559996100791, 0.575868682972354,
    0.571211506735253, 0.566587763256165, 0.561996775814525, 0.557437893618766,
    0.552910490425833, 0.548413963255266, 0.543947731190026, 0.539511234256952,
    0.535103932380458, 0.530725304403662, 0.526374847171684, 0.522052074672322,
    0.517756517229756, 0.513487720747327, 0.509245245995748, 0.505028667943468,
    0.500837575126149, 0.49667156905249, 0.492530263643869, 0.488413284705458,
    0.484320269426683, 0.480250865909047, 0.476204732719506, 0.47218153846773,
    0.468180961405694, 0.464202689048174, 0.460246417812843, 0.456311852678716,
    0.452398706861849, 0.448506701507203, 0.444635565395739, 0.440785034665804,
    0.436954852547985, 0.433144769112652, 0.429354541029442, 0.425583931338022,
    0.421832709229496, 0.418100649837848, 0.414387534040891, 0.410693148270188,
    0.407017284329473, 0.403359739221114, 0.399720314980197, 0.396098818515832,
    0.392495061459315, 0.388908860018789, 0.385340034840077, 0.381788410873393,
    0.378253817245619, 0.374736087137891, 0.371235057668239, 0.367750569779032,
    0.364282468129004, 0.360830600989648, 0.357394820145781, 0.353974980800077,
    0.350570941481406, 0.347182563956794, 0.343809713146851, 0.340452257044522,
    0.337110066637006, 0.333783015830718, 0.330470981379163, 0.327173842813601,
    0.323891482376391, 0.320623784956905, 0.317370638029914, 0.314131931596337,
    0.310907558126286, 0.307697412504292, 0.30450139197665, 0.301319396100803,
    0.298151326696685, 0.294997087799962, 0.291856585617095, 0.288729728482183,
    0.285616426815502, 0.282516593083708, 0.279430141761638, 0.276356989295668,
    0.273297054068577, 0.270250256365875, 0.267216518343561, 0.264195763997261,
    0.261187919132721, 0.258192911337619, 0.255210669954662, 0.252241126055942,
    0.249284212418529, 0.246339863501264, 0.24340801542275, 0.240488605940501,
    0.237581574431238, 0.23468686187233, 0.231804410824339, 0.228934165414681,
    0.226076071322381, 0.223230075763918, 0.220396127480152, 0.217574176724331,
    0.214764175251174, 0.211966076307031, 0.209179834621125, 0.206405406397881,
    0.203642749310335, 0.200891822494657, 0.198152586545776, 0.195425003514135,
    0.192709036903589, 0.190004651670465, 0.187311814223801, 0.1846304924268,
    0.181960655599523, 0.179302274522848, 0.176655321443735, 0.174019770081839,
    0.171395595637506, 0.168782774801212, 0.166181285764482, 0.163591108232366,
    0.161012223437511, 0.158444614155925, 0.15588826472448, 0.153343161060263,
    0.150809290681846, 0.148286642732575, 0.145775208005994, 0.143274978973514,
    0.140785949814445, 0.138308116448551, 0.135841476571254, 0.133386029691669,
    0.130941777173644, 0.12850872228, 0.126086870220186, 0.123676228201597,
    0.12127680548479, 0.11888861344291, 0.116511665625611, 0.114145977827839,
    0.111791568163838, 0.109448457146812, 0.107116667774684, 0.104796225622487,
    0.102487158941935, 0.10018949876881, 0.0979032790388625, 0.095628536713009,
    0.093365311912691, 0.0911136480663738, 0.0888735920682759,
    0.0866451944505581, 0.0844285095703535, 0.082223595813203,
    0.0800305158146631, 0.0778493367020961, 0.0756801303589272,
    0.0735229737139814, 0.0713779490588905, 0.0692451443970068,
    0.0671246538277886, 0.065016577971243, 0.0629210244377582, 0.06083810834954,
    0.0587679529209339, 0.0567106901062031, 0.0546664613248891,
    0.0526354182767924, 0.0506177238609479, 0.0486135532158687,
    0.0466230949019305, 0.0446465522512946, 0.0426841449164746,
    0.0407361106559411, 0.0388027074045262, 0.0368842156885674,
    0.0349809414617162, 0.0330932194585786, 0.0312214171919203,
    0.0293659397581334, 0.0275272356696031, 0.0257058040085489,
    0.0239022033057959, 0.0221170627073089, 0.0203510962300445,
    0.0186051212757247, 0.0168800831525432, 0.0151770883079353,
    0.0134974506017399, 0.0118427578579079, 0.0102149714397015,
    0.00861658276939875, 0.00705087547137324, 0.00552240329925101,
    0.00403797259336304, 0.00260907274610216, 0.0012602859304986,
    0.000477467764609386 };

  int32_T exitg1;
  switch (rtDW.method_a) {
   case 0U:
    switch (rtDW.method_p) {
     case 4U:
      b_state = rtDW.state_o;
      do {
        genrandu_rGQGCObS(b_state, &e_state, &x);
        genrandu_rGQGCObS(e_state, &b_state, &c_t);
        x = 2.0 * x - 1.0;
        c_t = 2.0 * c_t - 1.0;
        c_t = c_t * c_t + x * x;
      } while (!(c_t <= 1.0));

      r[0] = sqrt(-2.0 * log(c_t) / c_t) * x;
      do {
        genrandu_rGQGCObS(b_state, &e_state, &x);
        genrandu_rGQGCObS(e_state, &b_state, &c_t);
        x = 2.0 * x - 1.0;
        c_t = 2.0 * c_t - 1.0;
        c_t = c_t * c_t + x * x;
      } while (!(c_t <= 1.0));

      r[1] = sqrt(-2.0 * log(c_t) / c_t) * x;
      do {
        genrandu_rGQGCObS(b_state, &e_state, &x);
        genrandu_rGQGCObS(e_state, &b_state, &c_t);
        x = 2.0 * x - 1.0;
        c_t = 2.0 * c_t - 1.0;
        c_t = c_t * c_t + x * x;
      } while (!(c_t <= 1.0));

      r[2] = sqrt(-2.0 * log(c_t) / c_t) * x;
      do {
        genrandu_rGQGCObS(b_state, &e_state, &x);
        genrandu_rGQGCObS(e_state, &b_state, &c_t);
        x = 2.0 * x - 1.0;
        c_t = 2.0 * c_t - 1.0;
        c_t = c_t * c_t + x * x;
      } while (!(c_t <= 1.0));

      r[3] = sqrt(-2.0 * log(c_t) / c_t) * x;
      rtDW.state_o = b_state;
      break;

     case 5U:
      r[0] = eml_rand_shr3cong_vrLt4K7H(rtDW.state_k);
      r[1] = eml_rand_shr3cong_vrLt4K7H(rtDW.state_k);
      r[2] = eml_rand_shr3cong_vrLt4K7H(rtDW.state_k);
      r[3] = eml_rand_shr3cong_vrLt4K7H(rtDW.state_k);
      break;

     default:
      for (b_k = 0; b_k < 4; b_k++) {
        do {
          exitg1 = 0;
          genrand_uint32_vector_qilyMafa(rtDW.state_e, u32);
          i = (int32_T)((u32[1] >> 24U) + 1U);
          c_t = (((real_T)(u32[0] >> 3U) * 1.6777216E+7 + (real_T)((int32_T)u32
                   [1] & 16777215)) * 2.2204460492503131E-16 - 1.0) * b[i];
          if (fabs(c_t) <= b[i - 1]) {
            exitg1 = 1;
          } else if (i < 256) {
            x = genrandu_jPVD3Unn(rtDW.state_e);
            if ((c[i - 1] - c[i]) * x + c[i] < exp(-0.5 * c_t * c_t)) {
              exitg1 = 1;
            }
          } else {
            do {
              x = genrandu_jPVD3Unn(rtDW.state_e);
              x = log(x) * 0.273661237329758;
              c_u = genrandu_jPVD3Unn(rtDW.state_e);
            } while (!(-2.0 * log(c_u) > x * x));

            if (c_t < 0.0) {
              c_t = x - 3.65415288536101;
            } else {
              c_t = 3.65415288536101 - x;
            }

            exitg1 = 1;
          }
        } while (exitg1 == 0);

        r[b_k] = c_t;
      }
      break;
    }
    break;

   case 4U:
    b_state = rtDW.state_i[0];
    do {
      genrandu_rGQGCObS(b_state, &e_state, &x);
      genrandu_rGQGCObS(e_state, &b_state, &c_t);
      x = 2.0 * x - 1.0;
      c_t = 2.0 * c_t - 1.0;
      c_t = c_t * c_t + x * x;
    } while (!(c_t <= 1.0));

    r[0] = sqrt(-2.0 * log(c_t) / c_t) * x;
    rtDW.state_i[0] = b_state;
    b_state = rtDW.state_i[0];
    do {
      genrandu_rGQGCObS(b_state, &e_state, &x);
      genrandu_rGQGCObS(e_state, &b_state, &c_t);
      x = 2.0 * x - 1.0;
      c_t = 2.0 * c_t - 1.0;
      c_t = c_t * c_t + x * x;
    } while (!(c_t <= 1.0));

    r[1] = sqrt(-2.0 * log(c_t) / c_t) * x;
    rtDW.state_i[0] = b_state;
    b_state = rtDW.state_i[0];
    do {
      genrandu_rGQGCObS(b_state, &e_state, &x);
      genrandu_rGQGCObS(e_state, &b_state, &c_t);
      x = 2.0 * x - 1.0;
      c_t = 2.0 * c_t - 1.0;
      c_t = c_t * c_t + x * x;
    } while (!(c_t <= 1.0));

    r[2] = sqrt(-2.0 * log(c_t) / c_t) * x;
    rtDW.state_i[0] = b_state;
    b_state = rtDW.state_i[0];
    do {
      genrandu_rGQGCObS(b_state, &e_state, &x);
      genrandu_rGQGCObS(e_state, &b_state, &c_t);
      x = 2.0 * x - 1.0;
      c_t = 2.0 * c_t - 1.0;
      c_t = c_t * c_t + x * x;
    } while (!(c_t <= 1.0));

    r[3] = sqrt(-2.0 * log(c_t) / c_t) * x;
    rtDW.state_i[0] = b_state;
    break;

   default:
    r[0] = eml_rand_shr3cong_vrLt4K7H(rtDW.state_i);
    r[1] = eml_rand_shr3cong_vrLt4K7H(rtDW.state_i);
    r[2] = eml_rand_shr3cong_vrLt4K7H(rtDW.state_i);
    r[3] = eml_rand_shr3cong_vrLt4K7H(rtDW.state_i);
    break;
  }
}

static real_T xzlangeM(const real_T x[16])
{
  real_T y;
  int32_T b_k;
  boolean_T exitg1;
  y = 0.0;
  b_k = 0;
  exitg1 = false;
  while ((!exitg1) && (b_k < 16)) {
    real_T absxk;
    absxk = fabs(x[b_k]);
    if (rtIsNaN(absxk)) {
      y = (rtNaN);
      exitg1 = true;
    } else {
      if (absxk > y) {
        y = absxk;
      }

      b_k++;
    }
  }

  return y;
}

static void xzlascl(real_T cfrom, real_T cto, real_T A[16])
{
  real_T cfromc;
  real_T ctoc;
  int32_T b_j;
  boolean_T notdone;

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  cfromc = cfrom;
  ctoc = cto;
  notdone = true;
  while (notdone) {
    real_T cfrom1;
    real_T cto1;
    real_T mul;
    cfrom1 = cfromc * 2.0041683600089728E-292;
    cto1 = ctoc / 4.9896007738368E+291;
    if ((fabs(cfrom1) > fabs(ctoc)) && (ctoc != 0.0)) {
      mul = 2.0041683600089728E-292;
      cfromc = cfrom1;
    } else if (fabs(cto1) > fabs(cfromc)) {
      mul = 4.9896007738368E+291;
      ctoc = cto1;
    } else {
      mul = ctoc / cfromc;
      notdone = false;
    }

    for (b_j = 0; b_j < 4; b_j++) {
      int32_T tmp;
      tmp = b_j << 2;
      A[tmp] *= mul;
      A[tmp + 1] *= mul;
      A[tmp + 2] *= mul;
      A[tmp + 3] *= mul;
    }
  }

  /* End of Start for MATLABSystem: '<S9>/MATLAB System' */
}

static real_T xnrm2(int32_T n, const real_T x[16], int32_T ix0)
{
  real_T scale;
  real_T y;
  int32_T k;
  int32_T kend;
  y = 0.0;
  scale = 3.3121686421112381E-170;

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  kend = ix0 + n;
  for (k = ix0; k < kend; k++) {
    real_T absxk;
    absxk = fabs(x[k - 1]);
    if (absxk > scale) {
      real_T t;
      t = scale / absxk;
      y = y * t * t + 1.0;
      scale = absxk;
    } else {
      real_T t;
      t = absxk / scale;
      y += t * t;
    }
  }

  /* End of Start for MATLABSystem: '<S9>/MATLAB System' */
  return scale * sqrt(y);
}

static real_T xdotc(int32_T n, const real_T x[16], int32_T ix0, const real_T y
                    [16], int32_T iy0)
{
  real_T d;
  int32_T b;
  int32_T k;
  d = 0.0;

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  b = (uint8_T)n;
  for (k = 0; k < b; k++) {
    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    d += x[(ix0 + k) - 1] * y[(iy0 + k) - 1];
  }

  return d;
}

static void xaxpy(int32_T n, real_T a, int32_T ix0, real_T y[16], int32_T iy0)
{
  int32_T k;

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  if (!(a == 0.0)) {
    for (k = 0; k < n; k++) {
      int32_T tmp;
      tmp = (iy0 + k) - 1;
      y[tmp] += y[(ix0 + k) - 1] * a;
    }
  }

  /* End of Start for MATLABSystem: '<S9>/MATLAB System' */
}

static real_T xnrm2_a(int32_T n, const real_T x[4], int32_T ix0)
{
  real_T scale;
  real_T y;
  int32_T k;
  int32_T kend;
  y = 0.0;
  scale = 3.3121686421112381E-170;

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  kend = ix0 + n;
  for (k = ix0; k < kend; k++) {
    real_T absxk;
    absxk = fabs(x[k - 1]);
    if (absxk > scale) {
      real_T t;
      t = scale / absxk;
      y = y * t * t + 1.0;
      scale = absxk;
    } else {
      real_T t;
      t = absxk / scale;
      y += t * t;
    }
  }

  /* End of Start for MATLABSystem: '<S9>/MATLAB System' */
  return scale * sqrt(y);
}

static void xaxpy_a(int32_T n, real_T a, const real_T x[16], int32_T ix0, real_T
                    y[4], int32_T iy0)
{
  int32_T k;

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  if (!(a == 0.0)) {
    int32_T scalarLB;
    int32_T tmp_0;
    int32_T vectorUB;
    scalarLB = (n / 2) << 1;
    vectorUB = scalarLB - 2;
    for (k = 0; k <= vectorUB; k += 2) {
      __m128d tmp;
      tmp_0 = (iy0 + k) - 1;
      tmp = _mm_loadu_pd(&y[tmp_0]);
      _mm_storeu_pd(&y[tmp_0], _mm_add_pd(_mm_mul_pd(_mm_loadu_pd(&x[(ix0 + k) -
        1]), _mm_set1_pd(a)), tmp));
    }

    for (k = scalarLB; k < n; k++) {
      tmp_0 = (iy0 + k) - 1;
      y[tmp_0] += x[(ix0 + k) - 1] * a;
    }
  }

  /* End of Start for MATLABSystem: '<S9>/MATLAB System' */
}

static void xaxpy_al(int32_T n, real_T a, const real_T x[4], int32_T ix0, real_T
                     y[16], int32_T iy0)
{
  int32_T k;

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  if (!(a == 0.0)) {
    int32_T scalarLB;
    int32_T tmp_0;
    int32_T vectorUB;
    scalarLB = (n / 2) << 1;
    vectorUB = scalarLB - 2;
    for (k = 0; k <= vectorUB; k += 2) {
      __m128d tmp;
      tmp_0 = (iy0 + k) - 1;
      tmp = _mm_loadu_pd(&y[tmp_0]);
      _mm_storeu_pd(&y[tmp_0], _mm_add_pd(_mm_mul_pd(_mm_loadu_pd(&x[(ix0 + k) -
        1]), _mm_set1_pd(a)), tmp));
    }

    for (k = scalarLB; k < n; k++) {
      tmp_0 = (iy0 + k) - 1;
      y[tmp_0] += x[(ix0 + k) - 1] * a;
    }
  }

  /* End of Start for MATLABSystem: '<S9>/MATLAB System' */
}

static void xzlascl_a(real_T cfrom, real_T cto, real_T A[4])
{
  real_T cfromc;
  real_T ctoc;
  boolean_T notdone;

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  cfromc = cfrom;
  ctoc = cto;
  notdone = true;
  while (notdone) {
    __m128d tmp;
    __m128d tmp_0;
    real_T cfrom1;
    real_T cto1;
    real_T mul;
    cfrom1 = cfromc * 2.0041683600089728E-292;
    cto1 = ctoc / 4.9896007738368E+291;
    if ((fabs(cfrom1) > fabs(ctoc)) && (ctoc != 0.0)) {
      mul = 2.0041683600089728E-292;
      cfromc = cfrom1;
    } else if (fabs(cto1) > fabs(cfromc)) {
      mul = 4.9896007738368E+291;
      ctoc = cto1;
    } else {
      mul = ctoc / cfromc;
      notdone = false;
    }

    tmp_0 = _mm_set1_pd(mul);
    tmp = _mm_mul_pd(_mm_loadu_pd(&A[0]), tmp_0);
    _mm_storeu_pd(&A[0], tmp);
    tmp_0 = _mm_mul_pd(_mm_loadu_pd(&A[2]), tmp_0);
    _mm_storeu_pd(&A[2], tmp_0);
  }

  /* End of Start for MATLABSystem: '<S9>/MATLAB System' */
}

static void xswap_a(real_T x[16], int32_T ix0, int32_T iy0)
{
  real_T temp;

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  temp = x[ix0 - 1];
  x[ix0 - 1] = x[iy0 - 1];
  x[iy0 - 1] = temp;
  temp = x[ix0];
  x[ix0] = x[iy0];
  x[iy0] = temp;
  temp = x[ix0 + 1];
  x[ix0 + 1] = x[iy0 + 1];
  x[iy0 + 1] = temp;
  temp = x[ix0 + 2];
  x[ix0 + 2] = x[iy0 + 2];
  x[iy0 + 2] = temp;
}

static void xrotg(real_T a, real_T b, real_T *b_a, real_T *b_b, real_T *c,
                  real_T *s)
{
  real_T absa;
  real_T absb;
  real_T roe;
  real_T scale;

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  roe = b;
  absa = fabs(a);
  absb = fabs(b);
  if (absa > absb) {
    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    roe = a;
  }

  scale = absa + absb;
  if (scale == 0.0) {
    *s = 0.0;
    *c = 1.0;
    *b_a = 0.0;
    *b_b = 0.0;
  } else {
    real_T ads;
    real_T bds;
    ads = absa / scale;
    bds = absb / scale;

    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    *b_a = sqrt(ads * ads + bds * bds) * scale;
    if (roe < 0.0) {
      *b_a = -*b_a;
    }

    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    *c = a / *b_a;
    *s = b / *b_a;
    if (absa > absb) {
      *b_b = *s;
    } else if (*c != 0.0) {
      /* Start for MATLABSystem: '<S9>/MATLAB System' */
      *b_b = 1.0 / *c;
    } else {
      *b_b = 1.0;
    }
  }
}

static void xrot_a(real_T x[16], int32_T ix0, int32_T iy0, real_T c, real_T s)
{
  real_T temp;
  real_T temp_tmp;

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  temp = x[iy0 - 1];
  temp_tmp = x[ix0 - 1];
  x[iy0 - 1] = temp * c - temp_tmp * s;
  x[ix0 - 1] = temp_tmp * c + temp * s;
  temp = x[ix0] * c + x[iy0] * s;
  x[iy0] = x[iy0] * c - x[ix0] * s;
  x[ix0] = temp;
  temp = x[iy0 + 1];
  temp_tmp = x[ix0 + 1];
  x[iy0 + 1] = temp * c - temp_tmp * s;
  x[ix0 + 1] = temp_tmp * c + temp * s;
  temp = x[iy0 + 2];
  temp_tmp = x[ix0 + 2];
  x[iy0 + 2] = temp * c - temp_tmp * s;
  x[ix0 + 2] = temp_tmp * c + temp * s;
}

static void svd(const real_T A[16], real_T U[16], real_T s[4], real_T V[16])
{
  __m128d tmp;
  real_T A_0[16];
  real_T e[4];
  real_T s_0[4];
  real_T work[4];
  real_T tmp_0[2];
  real_T anrm;
  real_T cscale;
  real_T emm1;
  real_T nrm;
  real_T rt;
  real_T shift;
  real_T smm1;
  real_T sqds;
  real_T ztest;
  real_T ztest0;
  real_T ztest0_tmp;
  int32_T colqp1;
  int32_T m;
  int32_T qjj;
  int32_T qp1;
  int32_T qp1jj;
  int32_T qq;
  int32_T qq_tmp;
  int32_T scalarLB;
  int32_T vectorUB;
  boolean_T apply_transform;
  boolean_T doscale;
  boolean_T exitg1;
  s_0[0] = 0.0;
  e[0] = 0.0;
  work[0] = 0.0;
  s_0[1] = 0.0;
  e[1] = 0.0;
  work[1] = 0.0;
  s_0[2] = 0.0;
  e[2] = 0.0;
  work[2] = 0.0;
  s_0[3] = 0.0;
  e[3] = 0.0;
  work[3] = 0.0;
  for (qq_tmp = 0; qq_tmp < 16; qq_tmp++) {
    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    A_0[qq_tmp] = A[qq_tmp];
    U[qq_tmp] = 0.0;
    V[qq_tmp] = 0.0;
  }

  doscale = false;

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  anrm = xzlangeM(A);
  cscale = anrm;

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  if ((anrm > 0.0) && (anrm < 6.7178761075670888E-139)) {
    doscale = true;
    cscale = 6.7178761075670888E-139;
    xzlascl(anrm, cscale, A_0);
  } else if (anrm > 1.4885657073574029E+138) {
    doscale = true;
    cscale = 1.4885657073574029E+138;
    xzlascl(anrm, cscale, A_0);
  }

  for (m = 0; m < 3; m++) {
    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    qp1 = m + 2;
    colqp1 = m << 2;

    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    qq_tmp = colqp1 + m;
    qq = qq_tmp + 1;
    apply_transform = false;

    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    nrm = xnrm2(4 - m, A_0, qq_tmp + 1);
    if (nrm > 0.0) {
      apply_transform = true;

      /* Start for MATLABSystem: '<S9>/MATLAB System' */
      if (A_0[qq_tmp] < 0.0) {
        ztest = -nrm;
        s_0[m] = -nrm;
      } else {
        ztest = nrm;
        s_0[m] = nrm;
      }

      if (fabs(ztest) >= 1.0020841800044864E-292) {
        nrm = 1.0 / ztest;
        qp1jj = (qq_tmp - m) + 1;
        scalarLB = (((((qp1jj - qq_tmp) + 3) / 2) << 1) + qq_tmp) + 1;
        vectorUB = scalarLB - 2;
        for (qjj = qq; qjj <= vectorUB; qjj += 2) {
          tmp = _mm_loadu_pd(&A_0[qjj - 1]);
          _mm_storeu_pd(&A_0[qjj - 1], _mm_mul_pd(tmp, _mm_set1_pd(nrm)));
        }

        for (qjj = scalarLB; qjj <= qp1jj + 3; qjj++) {
          A_0[qjj - 1] *= nrm;
        }
      } else {
        qp1jj = (qq_tmp - m) + 1;
        scalarLB = (((((qp1jj - qq_tmp) + 3) / 2) << 1) + qq_tmp) + 1;
        vectorUB = scalarLB - 2;
        for (qjj = qq; qjj <= vectorUB; qjj += 2) {
          tmp = _mm_loadu_pd(&A_0[qjj - 1]);
          _mm_storeu_pd(&A_0[qjj - 1], _mm_div_pd(tmp, _mm_set1_pd(s_0[m])));
        }

        for (qjj = scalarLB; qjj <= qp1jj + 3; qjj++) {
          A_0[qjj - 1] /= s_0[m];
        }
      }

      A_0[qq_tmp]++;
      s_0[m] = -s_0[m];
    } else {
      s_0[m] = 0.0;
    }

    for (qp1jj = qp1; qp1jj < 5; qp1jj++) {
      /* Start for MATLABSystem: '<S9>/MATLAB System' */
      qjj = (((qp1jj - 1) << 2) + m) + 1;
      if (apply_transform) {
        /* Start for MATLABSystem: '<S9>/MATLAB System' */
        xaxpy(4 - m, -(xdotc(4 - m, A_0, qq_tmp + 1, A_0, qjj) / A_0[qq_tmp]),
              qq_tmp + 1, A_0, qjj);
      }

      e[qp1jj - 1] = A_0[qjj - 1];
    }

    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    for (qq = m + 1; qq < 5; qq++) {
      qp1jj = (colqp1 + qq) - 1;
      U[qp1jj] = A_0[qp1jj];
    }

    if (m + 1 <= 2) {
      nrm = xnrm2_a(3 - m, e, m + 2);
      if (nrm == 0.0) {
        e[m] = 0.0;
      } else {
        if (e[m + 1] < 0.0) {
          e[m] = -nrm;
        } else {
          e[m] = nrm;
        }

        nrm = e[m];
        if (fabs(e[m]) >= 1.0020841800044864E-292) {
          nrm = 1.0 / e[m];
          scalarLB = ((((3 - m) / 2) << 1) + m) + 2;
          vectorUB = scalarLB - 2;
          for (qjj = qp1; qjj <= vectorUB; qjj += 2) {
            tmp = _mm_loadu_pd(&e[qjj - 1]);
            _mm_storeu_pd(&e[qjj - 1], _mm_mul_pd(tmp, _mm_set1_pd(nrm)));
          }

          for (qjj = scalarLB; qjj < 5; qjj++) {
            e[qjj - 1] *= nrm;
          }
        } else {
          scalarLB = ((((3 - m) / 2) << 1) + m) + 2;
          vectorUB = scalarLB - 2;
          for (qjj = qp1; qjj <= vectorUB; qjj += 2) {
            tmp = _mm_loadu_pd(&e[qjj - 1]);
            _mm_storeu_pd(&e[qjj - 1], _mm_div_pd(tmp, _mm_set1_pd(nrm)));
          }

          for (qjj = scalarLB; qjj < 5; qjj++) {
            e[qjj - 1] /= nrm;
          }
        }

        e[m + 1]++;
        e[m] = -e[m];
        for (qq = qp1; qq < 5; qq++) {
          work[qq - 1] = 0.0;
        }

        for (qq = qp1; qq < 5; qq++) {
          xaxpy_a(3 - m, e[qq - 1], A_0, (m + ((qq - 1) << 2)) + 2, work, m + 2);
        }

        for (qq = qp1; qq < 5; qq++) {
          xaxpy_al(3 - m, -e[qq - 1] / e[m + 1], work, m + 2, A_0, (m + ((qq - 1)
                     << 2)) + 2);
        }
      }

      for (qq = qp1; qq < 5; qq++) {
        V[(qq + colqp1) - 1] = e[qq - 1];
      }
    }
  }

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  m = 3;
  s_0[3] = A_0[15];
  e[2] = A_0[14];
  e[3] = 0.0;

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  U[12] = 0.0;
  U[13] = 0.0;
  U[14] = 0.0;
  U[15] = 1.0;

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  for (colqp1 = 2; colqp1 >= 0; colqp1--) {
    qq_tmp = colqp1 << 2;
    qq = qq_tmp + colqp1;
    if (s_0[colqp1] != 0.0) {
      for (qp1jj = colqp1 + 2; qp1jj < 5; qp1jj++) {
        qjj = (((qp1jj - 1) << 2) + colqp1) + 1;
        xaxpy(4 - colqp1, -(xdotc(4 - colqp1, U, qq + 1, U, qjj) / U[qq]), qq +
              1, U, qjj);
      }

      for (qp1 = colqp1 + 1; qp1 < 5; qp1++) {
        qp1jj = (qq_tmp + qp1) - 1;
        U[qp1jj] = -U[qp1jj];
      }

      U[qq]++;
      if (colqp1 - 1 >= 0) {
        memset(&U[qq_tmp], 0, (uint32_T)((((colqp1 - 1) + qq_tmp) - qq_tmp) + 1)
               * sizeof(real_T));
      }
    } else {
      U[qq_tmp] = 0.0;
      U[qq_tmp + 1] = 0.0;
      U[qq_tmp + 2] = 0.0;
      U[qq_tmp + 3] = 0.0;
      U[qq] = 1.0;
    }
  }

  for (colqp1 = 3; colqp1 >= 0; colqp1--) {
    if ((colqp1 + 1 <= 2) && (e[colqp1] != 0.0)) {
      qq = ((colqp1 << 2) + colqp1) + 2;
      for (qjj = colqp1 + 2; qjj < 5; qjj++) {
        qp1jj = (((qjj - 1) << 2) + colqp1) + 2;
        xaxpy(3 - colqp1, -(xdotc(3 - colqp1, V, qq, V, qp1jj) / V[qq - 1]), qq,
              V, qp1jj);
      }
    }

    qp1 = colqp1 << 2;
    V[qp1] = 0.0;
    V[qp1 + 1] = 0.0;
    V[qp1 + 2] = 0.0;
    V[qp1 + 3] = 0.0;
    V[colqp1 + qp1] = 1.0;
  }

  for (qp1 = 0; qp1 < 4; qp1++) {
    ztest = s_0[qp1];
    if (ztest != 0.0) {
      /* Start for MATLABSystem: '<S9>/MATLAB System' */
      rt = fabs(ztest);
      nrm = ztest / rt;
      s_0[qp1] = rt;

      /* Start for MATLABSystem: '<S9>/MATLAB System' */
      if (qp1 + 1 < 4) {
        e[qp1] /= nrm;
      }

      qq = qp1 << 2;

      /* Start for MATLABSystem: '<S9>/MATLAB System' */
      scalarLB = qq + 5;
      vectorUB = qq + 3;
      for (qjj = qq + 1; qjj <= vectorUB; qjj += 2) {
        tmp = _mm_loadu_pd(&U[qjj - 1]);
        _mm_storeu_pd(&U[qjj - 1], _mm_mul_pd(tmp, _mm_set1_pd(nrm)));
      }

      for (qjj = scalarLB; qjj <= qq + 4; qjj++) {
        U[qjj - 1] *= nrm;
      }
    }

    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    if (qp1 + 1 < 4) {
      emm1 = e[qp1];
      if (emm1 != 0.0) {
        rt = fabs(emm1);
        nrm = rt / emm1;
        e[qp1] = rt;
        s_0[qp1 + 1] *= nrm;
        colqp1 = (qp1 + 1) << 2;
        scalarLB = colqp1 + 5;
        vectorUB = colqp1 + 3;
        for (qjj = colqp1 + 1; qjj <= vectorUB; qjj += 2) {
          tmp = _mm_loadu_pd(&V[qjj - 1]);
          _mm_storeu_pd(&V[qjj - 1], _mm_mul_pd(tmp, _mm_set1_pd(nrm)));
        }

        for (qjj = scalarLB; qjj <= colqp1 + 4; qjj++) {
          V[qjj - 1] *= nrm;
        }
      }
    }
  }

  rt = 0.0;

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  nrm = fmax(fmax(fmax(fmax(0.0, fmax(fabs(s_0[0]), fabs(e[0]))), fmax(fabs(s_0
    [1]), fabs(e[1]))), fmax(fabs(s_0[2]), fabs(e[2]))), fmax(fabs(s_0[3]), fabs
              (e[3])));
  while ((m + 1 > 0) && (!(rt >= 75.0))) {
    colqp1 = m;
    qp1 = m;
    exitg1 = false;
    while ((!exitg1) && (qp1 > -1)) {
      colqp1 = qp1;
      if (qp1 == 0) {
        exitg1 = true;
      } else {
        ztest0 = fabs(e[qp1 - 1]);
        if ((ztest0 <= (fabs(s_0[qp1 - 1]) + fabs(s_0[qp1])) *
             2.2204460492503131E-16) || ((ztest0 <= 1.0020841800044864E-292) ||
             ((rt > 20.0) && (ztest0 <= 2.2204460492503131E-16 * nrm)))) {
          e[qp1 - 1] = 0.0;
          exitg1 = true;
        } else {
          qp1--;
        }
      }
    }

    if (colqp1 == m) {
      ztest0 = 4.0;
    } else {
      qp1 = m + 1;
      qq = m + 1;
      exitg1 = false;
      while ((!exitg1) && (qq >= colqp1)) {
        qp1 = qq;
        if (qq == colqp1) {
          exitg1 = true;
        } else {
          ztest0 = 0.0;
          if (qq < m + 1) {
            ztest0 = fabs(e[qq - 1]);
          }

          if (qq > colqp1 + 1) {
            ztest0 += fabs(e[qq - 2]);
          }

          ztest = fabs(s_0[qq - 1]);
          if ((ztest <= 2.2204460492503131E-16 * ztest0) || (ztest <=
               1.0020841800044864E-292)) {
            s_0[qq - 1] = 0.0;
            exitg1 = true;
          } else {
            qq--;
          }
        }
      }

      if (qp1 == colqp1) {
        ztest0 = 3.0;
      } else if (m + 1 == qp1) {
        ztest0 = 1.0;
      } else {
        ztest0 = 2.0;
        colqp1 = qp1;
      }
    }

    switch ((int32_T)ztest0) {
     case 1:
      ztest0 = e[m - 1];
      e[m - 1] = 0.0;
      for (qq = m; qq >= colqp1 + 1; qq--) {
        xrotg(s_0[qq - 1], ztest0, &s_0[qq - 1], &ztest0, &ztest, &sqds);
        if (qq > colqp1 + 1) {
          emm1 = e[qq - 2];
          ztest0 = -sqds * emm1;
          e[qq - 2] = emm1 * ztest;
        }

        xrot_a(V, ((qq - 1) << 2) + 1, (m << 2) + 1, ztest, sqds);
      }
      break;

     case 2:
      ztest0 = e[colqp1 - 1];
      e[colqp1 - 1] = 0.0;
      for (qp1 = colqp1 + 1; qp1 <= m + 1; qp1++) {
        xrotg(s_0[qp1 - 1], ztest0, &s_0[qp1 - 1], &ztest, &sqds, &smm1);
        emm1 = e[qp1 - 1];
        ztest0 = -smm1 * emm1;
        e[qp1 - 1] = emm1 * sqds;
        xrot_a(U, ((qp1 - 1) << 2) + 1, ((colqp1 - 1) << 2) + 1, sqds, smm1);
      }
      break;

     case 3:
      smm1 = s_0[m - 1];
      sqds = e[m - 1];
      ztest = fmax(fmax(fmax(fmax(fabs(s_0[m]), fabs(smm1)), fabs(sqds)), fabs
                        (s_0[colqp1])), fabs(e[colqp1]));
      tmp = _mm_set1_pd(ztest);
      _mm_storeu_pd(&tmp_0[0], _mm_div_pd(_mm_set_pd(smm1, s_0[m]), tmp));
      ztest0 = tmp_0[0];
      smm1 = tmp_0[1];
      _mm_storeu_pd(&tmp_0[0], _mm_div_pd(_mm_set_pd(s_0[colqp1], sqds), tmp));
      smm1 = ((smm1 + ztest0) * (smm1 - ztest0) + tmp_0[0] * tmp_0[0]) / 2.0;
      emm1 = ztest0 * tmp_0[0];
      emm1 *= emm1;
      if ((smm1 != 0.0) || (emm1 != 0.0)) {
        shift = sqrt(smm1 * smm1 + emm1);
        if (smm1 < 0.0) {
          shift = -shift;
        }

        shift = emm1 / (smm1 + shift);
      } else {
        shift = 0.0;
      }

      ztest0 = (tmp_0[1] + ztest0) * (tmp_0[1] - ztest0) + shift;
      ztest = e[colqp1] / ztest * tmp_0[1];
      for (qq = colqp1 + 1; qq <= m; qq++) {
        xrotg(ztest0, ztest, &sqds, &smm1, &emm1, &shift);
        if (qq > colqp1 + 1) {
          e[qq - 2] = sqds;
        }

        ztest0_tmp = e[qq - 1];
        ztest0 = s_0[qq - 1];
        e[qq - 1] = ztest0_tmp * emm1 - ztest0 * shift;
        ztest = shift * s_0[qq];
        s_0[qq] *= emm1;
        qq_tmp = ((qq - 1) << 2) + 1;
        qp1jj = (qq << 2) + 1;
        xrot_a(V, qq_tmp, qp1jj, emm1, shift);
        xrotg(ztest0 * emm1 + ztest0_tmp * shift, ztest, &s_0[qq - 1], &sqds,
              &smm1, &emm1);
        ztest0_tmp = e[qq - 1];
        ztest0 = ztest0_tmp * smm1 + emm1 * s_0[qq];
        s_0[qq] = ztest0_tmp * -emm1 + smm1 * s_0[qq];
        ztest = emm1 * e[qq];
        e[qq] *= smm1;
        xrot_a(U, qq_tmp, qp1jj, smm1, emm1);
      }

      e[m - 1] = ztest0;
      rt++;
      break;

     default:
      if (s_0[colqp1] < 0.0) {
        s_0[colqp1] = -s_0[colqp1];
        qq = colqp1 << 2;
        scalarLB = qq + 5;
        vectorUB = qq + 3;
        for (qjj = qq + 1; qjj <= vectorUB; qjj += 2) {
          tmp = _mm_loadu_pd(&V[qjj - 1]);
          _mm_storeu_pd(&V[qjj - 1], _mm_mul_pd(tmp, _mm_set1_pd(-1.0)));
        }

        for (qjj = scalarLB; qjj <= qq + 4; qjj++) {
          V[qjj - 1] = -V[qjj - 1];
        }
      }

      qp1 = colqp1 + 1;
      while ((colqp1 + 1 < 4) && (s_0[colqp1] < s_0[qp1])) {
        rt = s_0[colqp1];
        s_0[colqp1] = s_0[qp1];
        s_0[qp1] = rt;
        qq_tmp = (colqp1 << 2) + 1;
        qp1jj = ((colqp1 + 1) << 2) + 1;
        xswap_a(V, qq_tmp, qp1jj);
        xswap_a(U, qq_tmp, qp1jj);
        colqp1 = qp1;
        qp1++;
      }

      rt = 0.0;
      m--;
      break;
    }
  }

  s[0] = s_0[0];
  s[1] = s_0[1];
  s[2] = s_0[2];
  s[3] = s_0[3];
  if (doscale) {
    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    xzlascl_a(cscale, anrm, s);
  }
}

static real_T xnrm2_al(int32_T n, const real_T x[28], int32_T ix0)
{
  real_T scale;
  real_T y;
  int32_T k;
  int32_T kend;
  y = 0.0;
  scale = 3.3121686421112381E-170;

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  kend = ix0 + n;
  for (k = ix0; k < kend; k++) {
    real_T absxk;
    absxk = fabs(x[k - 1]);
    if (absxk > scale) {
      real_T t;
      t = scale / absxk;
      y = y * t * t + 1.0;
      scale = absxk;
    } else {
      real_T t;
      t = absxk / scale;
      y += t * t;
    }
  }

  /* End of Start for MATLABSystem: '<S9>/MATLAB System' */
  return scale * sqrt(y);
}

static void EKFCorrectorNonAdditive_getMeas(const real_T Rs[16], const real_T x
  [3], const real_T S[9], real_T zEstimated[4], real_T Pxy[12], real_T Sy[16],
  real_T dhdx[12], real_T Rsqrt[16])
{
  __m128d tmp;
  __m128d tmp_0;
  __m128d tmp_1;
  __m128d tmp_2;
  real_T c_A[28];
  real_T dhdv[16];
  real_T y[12];
  real_T S_0[9];
  real_T imvec_0[4];
  real_T imz[4];
  real_T z[4];
  real_T imvec[3];
  real_T beta1;
  real_T epsilon;
  real_T x_0;
  real_T z_0;
  real_T z_1;
  real_T z_2;
  int32_T Rs_tmp;
  int32_T aoffset;
  int32_T coffset;
  int32_T e;
  int32_T exitg1;
  int32_T ii;
  int32_T jy;
  int32_T lastc;
  int32_T lastv;
  int32_T vectorUB;
  boolean_T exitg2;

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  imvec_0[0] = 0.0;
  imvec_0[1] = 0.0;
  imvec_0[2] = 0.0;
  imvec_0[3] = 0.0;
  carsim_ekf_onlyfunction_MeasurmentFcn(x, imvec_0, z);
  imvec_0[0] = 0.0;
  imvec_0[1] = 0.0;
  imvec_0[2] = 0.0;
  imvec_0[3] = 0.0;
  z_0 = z[0];
  beta1 = z[1];
  z_1 = z[2];
  z_2 = z[3];
  for (ii = 0; ii < 3; ii++) {
    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    imvec[0] = x[0];
    imvec[1] = x[1];
    imvec[2] = x[2];
    x_0 = x[ii];
    epsilon = fmax(1.4901161193847656E-8, 1.4901161193847656E-8 * fabs(x_0));
    imvec[ii] = x_0 + epsilon;
    carsim_ekf_onlyfunction_MeasurmentFcn(imvec, imvec_0, imz);
    tmp_2 = _mm_set1_pd(epsilon);

    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    tmp_1 = _mm_div_pd(_mm_sub_pd(_mm_loadu_pd(&imz[0]), _mm_set_pd(beta1, z_0)),
                       tmp_2);
    lastc = ii << 2;
    _mm_storeu_pd(&dhdx[lastc], tmp_1);

    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    tmp_2 = _mm_div_pd(_mm_sub_pd(_mm_loadu_pd(&imz[2]), _mm_set_pd(z_2, z_1)),
                       tmp_2);
    _mm_storeu_pd(&dhdx[lastc + 2], tmp_2);
  }

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  imvec_0[0] = 0.0;
  imvec_0[1] = 0.0;
  imvec_0[2] = 0.0;
  imvec_0[3] = 0.0;
  carsim_ekf_onlyfunction_MeasurmentFcn(x, imvec_0, z);
  z_0 = z[0];
  beta1 = z[1];
  z_1 = z[2];
  z_2 = z[3];
  for (ii = 0; ii < 4; ii++) {
    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    imvec_0[0] = 0.0;
    imvec_0[1] = 0.0;
    imvec_0[2] = 0.0;
    imvec_0[3] = 0.0;
    imvec_0[ii] = 1.4901161193847656E-8;
    carsim_ekf_onlyfunction_MeasurmentFcn(x, imvec_0, imz);
    tmp_2 = _mm_set1_pd(1.4901161193847656E-8);

    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    tmp_1 = _mm_div_pd(_mm_sub_pd(_mm_loadu_pd(&imz[0]), _mm_set_pd(beta1, z_0)),
                       tmp_2);
    lastc = ii << 2;
    _mm_storeu_pd(&dhdv[lastc], tmp_1);

    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    tmp_2 = _mm_div_pd(_mm_sub_pd(_mm_loadu_pd(&imz[2]), _mm_set_pd(z_2, z_1)),
                       tmp_2);
    _mm_storeu_pd(&dhdv[lastc + 2], tmp_2);
  }

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  for (ii = 0; ii < 4; ii++) {
    Rs_tmp = ii << 2;
    epsilon = Rs[Rs_tmp + 1];
    z_0 = Rs[Rs_tmp];
    beta1 = Rs[Rs_tmp + 2];
    z_1 = Rs[Rs_tmp + 3];
    for (lastc = 0; lastc <= 2; lastc += 2) {
      tmp_2 = _mm_loadu_pd(&dhdv[lastc + 4]);
      tmp_1 = _mm_loadu_pd(&dhdv[lastc]);
      tmp = _mm_loadu_pd(&dhdv[lastc + 8]);
      tmp_0 = _mm_loadu_pd(&dhdv[lastc + 12]);
      _mm_storeu_pd(&Rsqrt[lastc + Rs_tmp], _mm_add_pd(_mm_add_pd(_mm_add_pd
        (_mm_mul_pd(_mm_set1_pd(epsilon), tmp_2), _mm_mul_pd(_mm_set1_pd(z_0),
        tmp_1)), _mm_mul_pd(_mm_set1_pd(beta1), tmp)), _mm_mul_pd(_mm_set1_pd
        (z_1), tmp_0)));
    }

    imvec_0[ii] = 0.0;
  }

  carsim_ekf_onlyfunction_MeasurmentFcn(x, imvec_0, zEstimated);
  for (lastc = 0; lastc < 3; lastc++) {
    for (ii = 0; ii < 3; ii++) {
      S_0[lastc + 3 * ii] = (S[lastc + 3] * S[ii + 3] + S[lastc] * S[ii]) +
        S[lastc + 6] * S[ii + 6];
    }

    epsilon = S_0[lastc + 3];
    z_0 = S_0[lastc];
    beta1 = S_0[lastc + 6];
    for (ii = 0; ii < 4; ii++) {
      Pxy[lastc + 3 * ii] = (dhdx[ii + 4] * epsilon + z_0 * dhdx[ii]) + dhdx[ii
        + 8] * beta1;
    }
  }

  for (ii = 0; ii < 4; ii++) {
    coffset = ii * 3 - 1;

    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    epsilon = dhdx[ii];
    z_0 = dhdx[ii + 4];
    beta1 = dhdx[ii + 8];
    for (Rs_tmp = 0; Rs_tmp <= 0; Rs_tmp += 2) {
      lastc = (Rs_tmp + 1) * 3;

      /* Start for MATLABSystem: '<S9>/MATLAB System' */
      _mm_storeu_pd(&y[(coffset + Rs_tmp) + 1], _mm_add_pd(_mm_add_pd(_mm_mul_pd
        (_mm_set_pd(S[lastc], S[Rs_tmp * 3]), _mm_set1_pd(epsilon)), _mm_mul_pd
        (_mm_set_pd(S[lastc + 1], S[Rs_tmp * 3 + 1]), _mm_set1_pd(z_0))),
        _mm_mul_pd(_mm_set_pd(S[lastc + 2], S[Rs_tmp * 3 + 2]), _mm_set1_pd
                   (beta1))));
    }

    for (Rs_tmp = 2; Rs_tmp < 3; Rs_tmp++) {
      /* Start for MATLABSystem: '<S9>/MATLAB System' */
      y[(coffset + Rs_tmp) + 1] = (S[Rs_tmp * 3 + 1] * z_0 + S[Rs_tmp * 3] *
        epsilon) + S[Rs_tmp * 3 + 2] * beta1;
    }

    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    z[ii] = 0.0;
  }

  for (ii = 0; ii < 4; ii++) {
    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    c_A[7 * ii] = y[3 * ii];
    c_A[7 * ii + 1] = y[3 * ii + 1];
    c_A[7 * ii + 2] = y[3 * ii + 2];
    c_A[7 * ii + 3] = Rsqrt[ii];
    c_A[7 * ii + 4] = Rsqrt[ii + 4];
    c_A[7 * ii + 5] = Rsqrt[ii + 8];
    c_A[7 * ii + 6] = Rsqrt[ii + 12];
    imz[ii] = 0.0;
  }

  for (Rs_tmp = 0; Rs_tmp < 4; Rs_tmp++) {
    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    ii = Rs_tmp * 7 + Rs_tmp;
    lastc = ii + 2;
    epsilon = c_A[ii];
    z[Rs_tmp] = 0.0;

    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    beta1 = xnrm2_al(6 - Rs_tmp, c_A, ii + 2);
    if (beta1 != 0.0) {
      /* Start for MATLABSystem: '<S9>/MATLAB System' */
      z_0 = c_A[ii];
      beta1 = rt_hypotd_snf(z_0, beta1);
      if (z_0 >= 0.0) {
        beta1 = -beta1;
      }

      if (fabs(beta1) < 1.0020841800044864E-292) {
        aoffset = -1;
        do {
          aoffset++;
          coffset = ii - Rs_tmp;
          vectorUB = (((((coffset - ii) + 6) / 2) << 1) + ii) + 2;
          jy = vectorUB - 2;
          for (lastv = lastc; lastv <= jy; lastv += 2) {
            tmp_2 = _mm_loadu_pd(&c_A[lastv - 1]);
            _mm_storeu_pd(&c_A[lastv - 1], _mm_mul_pd(tmp_2, _mm_set1_pd
              (9.9792015476736E+291)));
          }

          for (lastv = vectorUB; lastv <= coffset + 7; lastv++) {
            c_A[lastv - 1] *= 9.9792015476736E+291;
          }

          beta1 *= 9.9792015476736E+291;
          epsilon *= 9.9792015476736E+291;
        } while ((fabs(beta1) < 1.0020841800044864E-292) && (aoffset + 1 < 20));

        beta1 = rt_hypotd_snf(epsilon, xnrm2_al(6 - Rs_tmp, c_A, ii + 2));
        if (epsilon >= 0.0) {
          beta1 = -beta1;
        }

        z[Rs_tmp] = (beta1 - epsilon) / beta1;
        epsilon = 1.0 / (epsilon - beta1);
        for (lastv = lastc; lastv <= jy; lastv += 2) {
          tmp_2 = _mm_loadu_pd(&c_A[lastv - 1]);
          _mm_storeu_pd(&c_A[lastv - 1], _mm_mul_pd(tmp_2, _mm_set1_pd(epsilon)));
        }

        for (lastv = vectorUB; lastv <= coffset + 7; lastv++) {
          c_A[lastv - 1] *= epsilon;
        }

        for (lastv = 0; lastv <= aoffset; lastv++) {
          beta1 *= 1.0020841800044864E-292;
        }

        epsilon = beta1;
      } else {
        z[Rs_tmp] = (beta1 - z_0) / beta1;
        epsilon = 1.0 / (z_0 - beta1);
        coffset = ii - Rs_tmp;
        aoffset = (((((coffset - ii) + 6) / 2) << 1) + ii) + 2;
        vectorUB = aoffset - 2;
        for (lastv = lastc; lastv <= vectorUB; lastv += 2) {
          tmp_2 = _mm_loadu_pd(&c_A[lastv - 1]);
          _mm_storeu_pd(&c_A[lastv - 1], _mm_mul_pd(tmp_2, _mm_set1_pd(epsilon)));
        }

        for (lastv = aoffset; lastv <= coffset + 7; lastv++) {
          c_A[lastv - 1] *= epsilon;
        }

        epsilon = beta1;
      }
    }

    c_A[ii] = epsilon;

    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    if (Rs_tmp + 1 < 4) {
      c_A[ii] = 1.0;
      vectorUB = ii + 8;
      if (z[Rs_tmp] != 0.0) {
        lastv = 7 - Rs_tmp;
        coffset = ii - Rs_tmp;
        while ((lastv > 0) && (c_A[coffset + 6] == 0.0)) {
          lastv--;
          coffset--;
        }

        lastc = 3 - Rs_tmp;
        exitg2 = false;
        while ((!exitg2) && (lastc > 0)) {
          aoffset = (lastc - 1) * 7 + ii;
          coffset = aoffset + 8;
          do {
            exitg1 = 0;
            if (coffset <= (aoffset + lastv) + 7) {
              if (c_A[coffset - 1] != 0.0) {
                exitg1 = 1;
              } else {
                coffset++;
              }
            } else {
              lastc--;
              exitg1 = 2;
            }
          } while (exitg1 == 0);

          if (exitg1 == 1) {
            exitg2 = true;
          }
        }
      } else {
        lastv = 0;
        lastc = 0;
      }

      if (lastv > 0) {
        if (lastc != 0) {
          memset(&imz[0], 0, (uint32_T)((lastc - 1) + 1) * sizeof(real_T));
          aoffset = ((lastc - 1) * 7 + ii) + 8;
          for (jy = vectorUB; jy <= aoffset; jy += 7) {
            beta1 = 0.0;
            e = jy + lastv;
            for (coffset = jy; coffset < e; coffset++) {
              beta1 += c_A[(ii + coffset) - jy] * c_A[coffset - 1];
            }

            coffset = div_nde_s32_floor((jy - ii) - 8, 7);
            imz[coffset] += beta1;
          }
        }

        if (!(-z[Rs_tmp] == 0.0)) {
          jy = ii;
          coffset = lastc - 1;
          for (lastc = 0; lastc <= coffset; lastc++) {
            z_0 = imz[lastc];
            if (z_0 != 0.0) {
              beta1 = z_0 * -z[Rs_tmp];
              vectorUB = jy + 8;
              aoffset = (lastv + jy) + 7;
              for (e = vectorUB; e <= aoffset; e++) {
                c_A[e - 1] += c_A[((ii + e) - jy) - 8] * beta1;
              }
            }

            jy += 7;
          }
        }
      }

      c_A[ii] = epsilon;
    }
  }

  for (ii = 0; ii < 4; ii++) {
    for (Rs_tmp = 0; Rs_tmp <= ii; Rs_tmp++) {
      /* Start for MATLABSystem: '<S9>/MATLAB System' */
      dhdv[Rs_tmp + (ii << 2)] = c_A[7 * ii + Rs_tmp];
    }

    for (Rs_tmp = ii + 2; Rs_tmp < 5; Rs_tmp++) {
      dhdv[(Rs_tmp + (ii << 2)) - 1] = 0.0;
    }
  }

  for (lastc = 0; lastc < 4; lastc++) {
    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    ii = lastc << 2;
    Sy[ii] = dhdv[lastc];
    Sy[ii + 1] = dhdv[lastc + 4];
    Sy[ii + 2] = dhdv[lastc + 8];
    Sy[ii + 3] = dhdv[lastc + 12];
  }
}

static void trisolve(const real_T A[16], real_T B_0[12])
{
  int32_T b_j;
  int32_T b_k;
  int32_T i;

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  for (b_j = 0; b_j < 3; b_j++) {
    int32_T jBcol;
    jBcol = (b_j << 2) - 1;
    for (b_k = 0; b_k < 4; b_k++) {
      real_T B_1;
      int32_T B_tmp;
      int32_T k;
      int32_T kAcol;
      k = b_k + 1;
      kAcol = (b_k << 2) - 1;
      B_tmp = (b_k + jBcol) + 1;
      B_1 = B_0[B_tmp];
      if (B_1 != 0.0) {
        B_0[B_tmp] = B_1 / A[(b_k + kAcol) + 1];
        for (i = k + 1; i < 5; i++) {
          int32_T tmp;
          tmp = i + jBcol;
          B_0[tmp] -= A[i + kAcol] * B_0[B_tmp];
        }
      }
    }
  }

  /* End of Start for MATLABSystem: '<S9>/MATLAB System' */
}

static void trisolve_a(const real_T A[16], real_T B_2[12])
{
  int32_T b_i;
  int32_T b_j;
  int32_T k;

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  for (b_j = 0; b_j < 3; b_j++) {
    int32_T jBcol;
    jBcol = b_j << 2;
    for (k = 3; k >= 0; k--) {
      real_T tmp;
      int32_T kAcol;
      int32_T tmp_0;
      kAcol = k << 2;
      tmp_0 = k + jBcol;
      tmp = B_2[tmp_0];
      if (tmp != 0.0) {
        int32_T c;
        B_2[tmp_0] = tmp / A[k + kAcol];
        c = k - 1;
        for (b_i = 0; b_i <= c; b_i++) {
          int32_T tmp_1;
          tmp_1 = b_i + jBcol;
          B_2[tmp_1] -= A[b_i + kAcol] * B_2[tmp_0];
        }
      }
    }
  }

  /* End of Start for MATLABSystem: '<S9>/MATLAB System' */
}

static real_T xnrm2_alz(int32_T n, const real_T x[21], int32_T ix0)
{
  real_T scale;
  real_T y;
  int32_T k;
  int32_T kend;
  y = 0.0;
  scale = 3.3121686421112381E-170;

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  kend = ix0 + n;
  for (k = ix0; k < kend; k++) {
    real_T absxk;
    absxk = fabs(x[k - 1]);
    if (absxk > scale) {
      real_T t;
      t = scale / absxk;
      y = y * t * t + 1.0;
      scale = absxk;
    } else {
      real_T t;
      t = absxk / scale;
      y += t * t;
    }
  }

  /* End of Start for MATLABSystem: '<S9>/MATLAB System' */
  return scale * sqrt(y);
}

static void qrFactor(const real_T A[9], const real_T S[9], const real_T Ns[12],
                     real_T b_S[9])
{
  __m128d tmp;
  real_T c_A[21];
  real_T y[9];
  real_T b_tau[3];
  real_T work[3];
  real_T A_0;
  real_T beta1;
  real_T s;
  int32_T aoffset;
  int32_T b_i;
  int32_T coffset;
  int32_T e;
  int32_T exitg1;
  int32_T ii;
  int32_T jy;
  int32_T lastc;
  int32_T lastv;
  int32_T vectorUB;
  boolean_T exitg2;
  for (ii = 0; ii < 3; ii++) {
    coffset = ii * 3 - 1;

    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    s = A[ii];
    A_0 = A[ii + 3];
    beta1 = A[ii + 6];
    for (b_i = 0; b_i <= 0; b_i += 2) {
      lastc = (b_i + 1) * 3;

      /* Start for MATLABSystem: '<S9>/MATLAB System' */
      _mm_storeu_pd(&y[(coffset + b_i) + 1], _mm_add_pd(_mm_add_pd(_mm_mul_pd
        (_mm_set_pd(S[lastc], S[b_i * 3]), _mm_set1_pd(s)), _mm_mul_pd
        (_mm_set_pd(S[lastc + 1], S[b_i * 3 + 1]), _mm_set1_pd(A_0))),
        _mm_mul_pd(_mm_set_pd(S[lastc + 2], S[b_i * 3 + 2]), _mm_set1_pd(beta1))));
    }

    for (b_i = 2; b_i < 3; b_i++) {
      /* Start for MATLABSystem: '<S9>/MATLAB System' */
      y[(coffset + b_i) + 1] = (S[b_i * 3 + 1] * A_0 + S[b_i * 3] * s) + S[b_i *
        3 + 2] * beta1;
    }

    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    b_tau[ii] = 0.0;
  }

  for (ii = 0; ii < 3; ii++) {
    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    c_A[7 * ii] = y[3 * ii];
    c_A[7 * ii + 1] = y[3 * ii + 1];
    c_A[7 * ii + 2] = y[3 * ii + 2];
    c_A[7 * ii + 3] = Ns[ii];
    c_A[7 * ii + 4] = Ns[ii + 3];
    c_A[7 * ii + 5] = Ns[ii + 6];
    c_A[7 * ii + 6] = Ns[ii + 9];
    work[ii] = 0.0;
  }

  for (b_i = 0; b_i < 3; b_i++) {
    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    ii = b_i * 7 + b_i;
    lastc = ii + 2;
    s = c_A[ii];
    b_tau[b_i] = 0.0;

    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    beta1 = xnrm2_alz(6 - b_i, c_A, ii + 2);
    if (beta1 != 0.0) {
      /* Start for MATLABSystem: '<S9>/MATLAB System' */
      A_0 = c_A[ii];
      beta1 = rt_hypotd_snf(A_0, beta1);
      if (A_0 >= 0.0) {
        beta1 = -beta1;
      }

      if (fabs(beta1) < 1.0020841800044864E-292) {
        aoffset = -1;
        do {
          aoffset++;
          coffset = ii - b_i;
          vectorUB = (((((coffset - ii) + 6) / 2) << 1) + ii) + 2;
          jy = vectorUB - 2;
          for (lastv = lastc; lastv <= jy; lastv += 2) {
            tmp = _mm_loadu_pd(&c_A[lastv - 1]);
            _mm_storeu_pd(&c_A[lastv - 1], _mm_mul_pd(tmp, _mm_set1_pd
              (9.9792015476736E+291)));
          }

          for (lastv = vectorUB; lastv <= coffset + 7; lastv++) {
            c_A[lastv - 1] *= 9.9792015476736E+291;
          }

          beta1 *= 9.9792015476736E+291;
          s *= 9.9792015476736E+291;
        } while ((fabs(beta1) < 1.0020841800044864E-292) && (aoffset + 1 < 20));

        beta1 = rt_hypotd_snf(s, xnrm2_alz(6 - b_i, c_A, ii + 2));
        if (s >= 0.0) {
          beta1 = -beta1;
        }

        b_tau[b_i] = (beta1 - s) / beta1;
        s = 1.0 / (s - beta1);
        for (lastv = lastc; lastv <= jy; lastv += 2) {
          tmp = _mm_loadu_pd(&c_A[lastv - 1]);
          _mm_storeu_pd(&c_A[lastv - 1], _mm_mul_pd(tmp, _mm_set1_pd(s)));
        }

        for (lastv = vectorUB; lastv <= coffset + 7; lastv++) {
          c_A[lastv - 1] *= s;
        }

        for (lastv = 0; lastv <= aoffset; lastv++) {
          beta1 *= 1.0020841800044864E-292;
        }

        s = beta1;
      } else {
        b_tau[b_i] = (beta1 - A_0) / beta1;
        s = 1.0 / (A_0 - beta1);
        coffset = ii - b_i;
        aoffset = (((((coffset - ii) + 6) / 2) << 1) + ii) + 2;
        vectorUB = aoffset - 2;
        for (lastv = lastc; lastv <= vectorUB; lastv += 2) {
          tmp = _mm_loadu_pd(&c_A[lastv - 1]);
          _mm_storeu_pd(&c_A[lastv - 1], _mm_mul_pd(tmp, _mm_set1_pd(s)));
        }

        for (lastv = aoffset; lastv <= coffset + 7; lastv++) {
          c_A[lastv - 1] *= s;
        }

        s = beta1;
      }
    }

    c_A[ii] = s;

    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    if (b_i + 1 < 3) {
      c_A[ii] = 1.0;
      vectorUB = ii + 8;
      if (b_tau[b_i] != 0.0) {
        lastv = 7 - b_i;
        coffset = ii - b_i;
        while ((lastv > 0) && (c_A[coffset + 6] == 0.0)) {
          lastv--;
          coffset--;
        }

        lastc = 2 - b_i;
        exitg2 = false;
        while ((!exitg2) && (lastc > 0)) {
          aoffset = (lastc - 1) * 7 + ii;
          coffset = aoffset + 8;
          do {
            exitg1 = 0;
            if (coffset <= (aoffset + lastv) + 7) {
              if (c_A[coffset - 1] != 0.0) {
                exitg1 = 1;
              } else {
                coffset++;
              }
            } else {
              lastc--;
              exitg1 = 2;
            }
          } while (exitg1 == 0);

          if (exitg1 == 1) {
            exitg2 = true;
          }
        }
      } else {
        lastv = 0;
        lastc = 0;
      }

      if (lastv > 0) {
        if (lastc != 0) {
          memset(&work[0], 0, (uint32_T)((lastc - 1) + 1) * sizeof(real_T));
          aoffset = ((lastc - 1) * 7 + ii) + 8;
          for (jy = vectorUB; jy <= aoffset; jy += 7) {
            beta1 = 0.0;
            e = jy + lastv;
            for (coffset = jy; coffset < e; coffset++) {
              beta1 += c_A[(ii + coffset) - jy] * c_A[coffset - 1];
            }

            coffset = div_nde_s32_floor((jy - ii) - 8, 7);
            work[coffset] += beta1;
          }
        }

        if (!(-b_tau[b_i] == 0.0)) {
          jy = ii;
          coffset = lastc - 1;
          for (lastc = 0; lastc <= coffset; lastc++) {
            A_0 = work[lastc];
            if (A_0 != 0.0) {
              beta1 = A_0 * -b_tau[b_i];
              vectorUB = jy + 8;
              aoffset = (lastv + jy) + 7;
              for (e = vectorUB; e <= aoffset; e++) {
                c_A[e - 1] += c_A[((ii + e) - jy) - 8] * beta1;
              }
            }

            jy += 7;
          }
        }
      }

      c_A[ii] = s;
    }
  }

  for (ii = 0; ii < 3; ii++) {
    for (b_i = 0; b_i <= ii; b_i++) {
      /* Start for MATLABSystem: '<S9>/MATLAB System' */
      y[b_i + 3 * ii] = c_A[7 * ii + b_i];
    }

    for (b_i = ii + 2; b_i < 4; b_i++) {
      y[(b_i + 3 * ii) - 1] = 0.0;
    }
  }

  for (lastc = 0; lastc < 3; lastc++) {
    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    b_S[3 * lastc] = y[lastc];
    b_S[3 * lastc + 1] = y[lastc + 3];
    b_S[3 * lastc + 2] = y[lastc + 6];
  }
}

static real_T xnrm2_alzr(int32_T n, const real_T x[18], int32_T ix0)
{
  real_T y;
  int32_T k;

  /* Start for MATLABSystem: '<S11>/MATLAB System' */
  y = 0.0;
  if (n >= 1) {
    if (n == 1) {
      y = fabs(x[ix0 - 1]);
    } else {
      real_T scale;
      int32_T kend;
      scale = 3.3121686421112381E-170;
      kend = ix0 + n;
      for (k = ix0; k < kend; k++) {
        real_T absxk;
        absxk = fabs(x[k - 1]);
        if (absxk > scale) {
          real_T t;
          t = scale / absxk;
          y = y * t * t + 1.0;
          scale = absxk;
        } else {
          real_T t;
          t = absxk / scale;
          y += t * t;
        }
      }

      y = scale * sqrt(y);
    }
  }

  /* End of Start for MATLABSystem: '<S11>/MATLAB System' */
  return y;
}

static void qr(const real_T A[18], real_T Q[18], real_T R[9])
{
  __m128d tmp;
  real_T b_tau[3];
  real_T work[3];
  real_T b_atmp;
  real_T beta1;
  real_T c_A;
  int32_T exitg1;
  int32_T i;
  int32_T ii;
  int32_T itau;
  int32_T ix0;
  int32_T jA;
  int32_T knt;
  int32_T lastv;
  int32_T vectorUB;
  int32_T vectorUB_tmp;
  boolean_T exitg2;

  /* Start for MATLABSystem: '<S11>/MATLAB System' */
  b_tau[0] = 0.0;
  b_tau[1] = 0.0;
  b_tau[2] = 0.0;
  memcpy(&Q[0], &A[0], 18U * sizeof(real_T));
  work[0] = 0.0;
  work[1] = 0.0;
  work[2] = 0.0;

  /* Start for MATLABSystem: '<S11>/MATLAB System' */
  for (itau = 0; itau < 3; itau++) {
    ii = itau * 6 + itau;
    ix0 = ii + 2;
    b_atmp = Q[ii];
    b_tau[itau] = 0.0;
    beta1 = xnrm2_alzr(5 - itau, Q, ii + 2);
    if (beta1 != 0.0) {
      c_A = Q[ii];
      beta1 = rt_hypotd_snf(c_A, beta1);
      if (c_A >= 0.0) {
        beta1 = -beta1;
      }

      if (fabs(beta1) < 1.0020841800044864E-292) {
        knt = -1;
        do {
          knt++;
          i = ii - itau;
          vectorUB = (((((i - ii) + 5) / 2) << 1) + ii) + 2;
          vectorUB_tmp = vectorUB - 2;
          for (lastv = ix0; lastv <= vectorUB_tmp; lastv += 2) {
            tmp = _mm_loadu_pd(&Q[lastv - 1]);
            _mm_storeu_pd(&Q[lastv - 1], _mm_mul_pd(tmp, _mm_set1_pd
              (9.9792015476736E+291)));
          }

          for (lastv = vectorUB; lastv <= i + 6; lastv++) {
            Q[lastv - 1] *= 9.9792015476736E+291;
          }

          beta1 *= 9.9792015476736E+291;
          b_atmp *= 9.9792015476736E+291;
        } while ((fabs(beta1) < 1.0020841800044864E-292) && (knt + 1 < 20));

        beta1 = rt_hypotd_snf(b_atmp, xnrm2_alzr(5 - itau, Q, ii + 2));
        if (b_atmp >= 0.0) {
          beta1 = -beta1;
        }

        b_tau[itau] = (beta1 - b_atmp) / beta1;
        b_atmp = 1.0 / (b_atmp - beta1);
        for (lastv = ix0; lastv <= vectorUB_tmp; lastv += 2) {
          tmp = _mm_loadu_pd(&Q[lastv - 1]);
          _mm_storeu_pd(&Q[lastv - 1], _mm_mul_pd(tmp, _mm_set1_pd(b_atmp)));
        }

        for (lastv = vectorUB; lastv <= i + 6; lastv++) {
          Q[lastv - 1] *= b_atmp;
        }

        for (lastv = 0; lastv <= knt; lastv++) {
          beta1 *= 1.0020841800044864E-292;
        }

        b_atmp = beta1;
      } else {
        b_tau[itau] = (beta1 - c_A) / beta1;
        b_atmp = 1.0 / (c_A - beta1);
        i = ii - itau;
        knt = (((((i - ii) + 5) / 2) << 1) + ii) + 2;
        vectorUB = knt - 2;
        for (lastv = ix0; lastv <= vectorUB; lastv += 2) {
          tmp = _mm_loadu_pd(&Q[lastv - 1]);
          _mm_storeu_pd(&Q[lastv - 1], _mm_mul_pd(tmp, _mm_set1_pd(b_atmp)));
        }

        for (lastv = knt; lastv <= i + 6; lastv++) {
          Q[lastv - 1] *= b_atmp;
        }

        b_atmp = beta1;
      }
    }

    Q[ii] = b_atmp;
    if (itau + 1 < 3) {
      Q[ii] = 1.0;
      ix0 = ii + 7;
      if (b_tau[itau] != 0.0) {
        lastv = 6 - itau;
        i = ii - itau;
        while ((lastv > 0) && (Q[i + 5] == 0.0)) {
          lastv--;
          i--;
        }

        knt = 1 - itau;
        exitg2 = false;
        while ((!exitg2) && (knt + 1 > 0)) {
          i = knt * 6 + ii;
          vectorUB_tmp = i + 7;
          do {
            exitg1 = 0;
            if (vectorUB_tmp <= (i + lastv) + 6) {
              if (Q[vectorUB_tmp - 1] != 0.0) {
                exitg1 = 1;
              } else {
                vectorUB_tmp++;
              }
            } else {
              knt--;
              exitg1 = 2;
            }
          } while (exitg1 == 0);

          if (exitg1 == 1) {
            exitg2 = true;
          }
        }
      } else {
        lastv = 0;
        knt = -1;
      }

      if (lastv > 0) {
        if (knt + 1 != 0) {
          if (knt >= 0) {
            memset(&work[0], 0, (uint32_T)(knt + 1) * sizeof(real_T));
          }

          i = (6 * knt + ii) + 7;
          for (vectorUB = ix0; vectorUB <= i; vectorUB += 6) {
            beta1 = 0.0;
            jA = vectorUB + lastv;
            for (vectorUB_tmp = vectorUB; vectorUB_tmp < jA; vectorUB_tmp++) {
              beta1 += Q[(ii + vectorUB_tmp) - vectorUB] * Q[vectorUB_tmp - 1];
            }

            vectorUB_tmp = div_nde_s32_floor((vectorUB - ii) - 7, 6);
            work[vectorUB_tmp] += beta1;
          }
        }

        if (!(-b_tau[itau] == 0.0)) {
          jA = ii;
          for (vectorUB_tmp = 0; vectorUB_tmp <= knt; vectorUB_tmp++) {
            beta1 = work[vectorUB_tmp];
            if (beta1 != 0.0) {
              beta1 *= -b_tau[itau];
              i = jA + 7;
              ix0 = (lastv + jA) + 6;
              for (vectorUB = i; vectorUB <= ix0; vectorUB++) {
                Q[vectorUB - 1] += Q[((ii + vectorUB) - jA) - 7] * beta1;
              }
            }

            jA += 6;
          }
        }
      }

      Q[ii] = b_atmp;
    }
  }

  for (ii = 0; ii < 3; ii++) {
    for (itau = 0; itau <= ii; itau++) {
      /* Start for MATLABSystem: '<S11>/MATLAB System' */
      R[itau + 3 * ii] = Q[6 * ii + itau];
    }

    for (itau = ii + 2; itau < 4; itau++) {
      R[(itau + 3 * ii) - 1] = 0.0;
    }

    work[ii] = 0.0;
  }

  /* Start for MATLABSystem: '<S11>/MATLAB System' */
  for (itau = 2; itau >= 0; itau--) {
    ii = (itau * 6 + itau) + 6;
    if (itau + 1 < 3) {
      Q[ii - 6] = 1.0;
      ix0 = ii + 1;
      if (b_tau[itau] != 0.0) {
        lastv = 6 - itau;
        i = (ii - itau) - 1;
        while ((lastv > 0) && (Q[i] == 0.0)) {
          lastv--;
          i--;
        }

        knt = 1 - itau;
        exitg2 = false;
        while ((!exitg2) && (knt + 1 > 0)) {
          i = knt * 6 + ii;
          vectorUB_tmp = i + 1;
          do {
            exitg1 = 0;
            if (vectorUB_tmp <= i + lastv) {
              if (Q[vectorUB_tmp - 1] != 0.0) {
                exitg1 = 1;
              } else {
                vectorUB_tmp++;
              }
            } else {
              knt--;
              exitg1 = 2;
            }
          } while (exitg1 == 0);

          if (exitg1 == 1) {
            exitg2 = true;
          }
        }
      } else {
        lastv = 0;
        knt = -1;
      }

      if (lastv > 0) {
        if (knt + 1 != 0) {
          if (knt >= 0) {
            memset(&work[0], 0, (uint32_T)(knt + 1) * sizeof(real_T));
          }

          i = (6 * knt + ii) + 1;
          for (vectorUB = ix0; vectorUB <= i; vectorUB += 6) {
            beta1 = 0.0;
            jA = vectorUB + lastv;
            for (vectorUB_tmp = vectorUB; vectorUB_tmp < jA; vectorUB_tmp++) {
              beta1 += Q[((ii + vectorUB_tmp) - vectorUB) - 6] * Q[vectorUB_tmp
                - 1];
            }

            vectorUB_tmp = div_nde_s32_floor((vectorUB - ii) - 1, 6);
            work[vectorUB_tmp] += beta1;
          }
        }

        if (!(-b_tau[itau] == 0.0)) {
          jA = ii;
          for (vectorUB_tmp = 0; vectorUB_tmp <= knt; vectorUB_tmp++) {
            beta1 = work[vectorUB_tmp];
            if (beta1 != 0.0) {
              beta1 *= -b_tau[itau];
              i = jA + 1;
              ix0 = lastv + jA;
              for (vectorUB = i; vectorUB <= ix0; vectorUB++) {
                Q[vectorUB - 1] += Q[((ii + vectorUB) - jA) - 7] * beta1;
              }
            }

            jA += 6;
          }
        }
      }
    }

    i = ii - itau;
    knt = (((((i - ii) + 5) / 2) << 1) + ii) - 4;
    vectorUB = knt - 2;
    for (lastv = ii - 4; lastv <= vectorUB; lastv += 2) {
      tmp = _mm_loadu_pd(&Q[lastv - 1]);
      _mm_storeu_pd(&Q[lastv - 1], _mm_mul_pd(tmp, _mm_set1_pd(-b_tau[itau])));
    }

    for (lastv = knt; lastv <= i; lastv++) {
      Q[lastv - 1] *= -b_tau[itau];
    }

    Q[ii - 6] = 1.0 - b_tau[itau];
    jA = itau - 1;
    for (i = 0; i <= jA; i++) {
      Q[(ii - i) - 7] = 0.0;
    }
  }
}

/* Model step function for TID0 */
void carsim_ekf_onlyfunction_step0(void) /* Sample time: [0.0s, 0.0s] */
{
  __m128d tmp_0;
  __m128d tmp_1;
  __m128d tmp_2;
  __m128d tmp_3;
  real_T rtb_Saturation3_0[9];
  real_T b[3];
  real_T tmp[3];
  real_T b_0;
  real_T b_1;
  real_T rtb_Saturation3;
  int32_T i;

  /* Update the flag to indicate when data transfers from
   *  Sample time: [0.0s, 0.0s] to Sample time: [0.01s, 0.0s]  */
  (rtM->Timing.RateInteraction.TID0_2)++;
  if ((rtM->Timing.RateInteraction.TID0_2) > 9) {
    rtM->Timing.RateInteraction.TID0_2 = 0;
  }

  /* Update the flag to indicate when data transfers from
   *  Sample time: [0.001s, 0.0s] to Sample time: [0.01s, 0.0s]  */
  (rtM->Timing.RateInteraction.TID1_2)++;
  if ((rtM->Timing.RateInteraction.TID1_2) > 9) {
    rtM->Timing.RateInteraction.TID1_2 = 0;
  }

  /* MATLAB Function: '<S7>/MATLAB Function1' */
  randn_p(b);

  /* RateTransition generated from: '<Root>/Simulink Function' */
  if (rtM->Timing.RateInteraction.TID1_2 == 1) {
    /* MATLAB Function: '<S7>/MATLAB Function1' */
    rtb_Saturation3_0[0] = 0.070710678118654752;
    rtb_Saturation3_0[3] = 0.0;
    rtb_Saturation3_0[6] = 0.0;
    rtb_Saturation3_0[1] = 0.0;
    rtb_Saturation3_0[4] = 0.070710678118654752;
    rtb_Saturation3_0[7] = 0.0;
    rtb_Saturation3_0[2] = 0.0;
    rtb_Saturation3_0[5] = 0.0;
    rtb_Saturation3_0[8] = 0.070710678118654752;

    /* Sum: '<S7>/Add1' */
    tmp[0] = rtConstB.Gain;
    tmp[1] = rtConstB.Gain1;
    tmp[2] = rtConstB.Gain4;

    /* MATLAB Function: '<S7>/MATLAB Function1' incorporates:
     *  Sum: '<S7>/Add1'
     */
    rtb_Saturation3 = b[1];
    b_0 = b[0];
    b_1 = b[2];
    for (i = 0; i <= 0; i += 2) {
      tmp_0 = _mm_loadu_pd(&rtb_Saturation3_0[i + 3]);
      tmp_1 = _mm_loadu_pd(&rtb_Saturation3_0[i]);
      tmp_2 = _mm_loadu_pd(&rtb_Saturation3_0[i + 6]);

      /* Sum: '<S7>/Add1' */
      tmp_3 = _mm_loadu_pd(&tmp[i]);
      _mm_storeu_pd(&rtDW.TmpRTBAtSimulinkFunctionInpor_m[i], _mm_add_pd
                    (_mm_add_pd(_mm_add_pd(_mm_mul_pd(tmp_0, _mm_set1_pd
        (rtb_Saturation3)), _mm_mul_pd(tmp_1, _mm_set1_pd(b_0))), _mm_mul_pd
        (tmp_2, _mm_set1_pd(b_1))), tmp_3));
    }

    for (i = 2; i < 3; i++) {
      rtDW.TmpRTBAtSimulinkFunctionInpor_m[i] = ((rtb_Saturation3_0[i + 3] *
        rtb_Saturation3 + rtb_Saturation3_0[i] * b_0) + rtb_Saturation3_0[i + 6]
        * b_1) + tmp[i];
    }
  }

  /* End of RateTransition generated from: '<Root>/Simulink Function' */

  /* Step: '<S21>/Step' */
  if (rtM->Timing.t[0] < 0.0) {
    rtb_Saturation3 = 0.0;
  } else {
    rtb_Saturation3 = 0.5;
  }

  /* Sum: '<S21>/Output' incorporates:
   *  Clock: '<S21>/Clock'
   *  Constant: '<S21>/Constant1'
   *  Product: '<S21>/Product'
   *  Step: '<S21>/Step'
   */
  rtb_Saturation3 = rtb_Saturation3 * rtM->Timing.t[0] + 0.1;

  /* Saturate: '<S6>/Saturation3' */
  if (rtb_Saturation3 > 20.0) {
    rtb_Saturation3 = 20.0;
  } else if (rtb_Saturation3 < -0.5) {
    rtb_Saturation3 = -0.5;
  }

  /* End of Saturate: '<S6>/Saturation3' */

  /* ZeroOrderHold: '<S6>/Zero-Order Hold1' */
  if (rtM->Timing.RateInteraction.TID0_2 == 1) {
    /* ZeroOrderHold: '<S6>/Zero-Order Hold1' incorporates:
     *  MATLAB Function: '<S6>/MATLAB Function2'
     */
    rtDW.ZeroOrderHold1[0] = rtb_Saturation3;
    rtDW.ZeroOrderHold1[4] = 0.0;
    rtDW.ZeroOrderHold1[8] = 0.0;
    rtDW.ZeroOrderHold1[12] = 0.0;
    rtDW.ZeroOrderHold1[1] = 0.0;
    rtDW.ZeroOrderHold1[5] = rtb_Saturation3;
    rtDW.ZeroOrderHold1[9] = 0.0;
    rtDW.ZeroOrderHold1[13] = 0.0;
    rtDW.ZeroOrderHold1[2] = 0.0;
    rtDW.ZeroOrderHold1[6] = 0.0;
    rtDW.ZeroOrderHold1[10] = rtb_Saturation3;
    rtDW.ZeroOrderHold1[14] = 0.0;
    rtDW.ZeroOrderHold1[3] = 0.0;
    rtDW.ZeroOrderHold1[7] = 0.0;
    rtDW.ZeroOrderHold1[11] = 0.0;
    rtDW.ZeroOrderHold1[15] = rtb_Saturation3;
  }

  /* End of ZeroOrderHold: '<S6>/Zero-Order Hold1' */

  /* Update absolute time */
  /* The "clockTick0" counts the number of times the code of this task has
   * been executed. The absolute time is the multiplication of "clockTick0"
   * and "Timing.stepSize0". Size of "clockTick0" ensures timer will not
   * overflow during the application lifespan selected.
   */
  rtM->Timing.t[0] =
    ((time_T)(++rtM->Timing.clockTick0)) * rtM->Timing.stepSize0;

  /* Update absolute time */
  /* The "clockTick1" counts the number of times the code of this task has
   * been executed. The resolution of this integer timer is 0.001, which is the step size
   * of the task. Size of "clockTick1" ensures timer will not overflow during the
   * application lifespan selected.
   */
  rtM->Timing.clockTick1++;
}

/* Model step function for TID2 */
void carsim_ekf_onlyfunction_step2(void) /* Sample time: [0.01s, 0.0s] */
{
  __m128d tmp;
  __m128d tmp_0;
  __m128d tmp_1;
  __m128d tmp_2;
  real_T A_0[18];
  real_T a__1[18];
  real_T Ss[16];
  real_T b_V[16];
  real_T b_V_0[16];
  real_T B_3[12];
  real_T K[12];
  real_T dHdx[12];
  real_T A[9];
  real_T b_varargout_1[9];
  real_T b_varargout_2[9];
  real_T b_varargout_2_0[9];
  real_T rtb_MATLABSystem_o2_n[9];
  real_T randomMatrix_h[4];
  real_T s[4];
  real_T rtb_MATLABSystem_o1_0[3];
  real_T tmp_4[3];
  real_T w[3];
  real_T tmp_3[2];
  real_T K_0;
  real_T K_1;
  real_T K_2;
  real_T K_3;
  real_T Ss_0;
  real_T Ss_1;
  real_T Ss_2;
  real_T s_0;
  int32_T Ss_tmp;
  int32_T coffset;
  int32_T i;
  boolean_T p;

  /* MATLAB Function: '<S5>/MATLAB Function' */
  randn(randomMatrix_h);

  /* Outputs for Enabled SubSystem: '<S1>/Correct1' incorporates:
   *  EnablePort: '<S9>/Enable'
   */
  /* DataStoreRead: '<S9>/Data Store ReadP' */
  memcpy(&rtb_MATLABSystem_o2_n[0], &rtDW.P_i[0], 9U * sizeof(real_T));

  /* MATLABSystem: '<S9>/MATLAB System' incorporates:
   *  ZeroOrderHold: '<S6>/Zero-Order Hold1'
   */
  p = true;
  for (i = 0; i < 16; i++) {
    if (p) {
      s_0 = rtDW.ZeroOrderHold1[i];
      if ((!rtIsInf(s_0)) && (!rtIsNaN(s_0))) {
      } else {
        p = false;
      }
    } else {
      p = false;
    }
  }

  if (p) {
    svd(rtDW.ZeroOrderHold1, Ss, s, b_V);
  } else {
    s[0] = (rtNaN);
    s[1] = (rtNaN);
    s[2] = (rtNaN);
    s[3] = (rtNaN);
    for (i = 0; i < 16; i++) {
      b_V[i] = (rtNaN);
    }
  }

  memset(&Ss[0], 0, sizeof(real_T) << 4U);
  Ss[0] = s[0];
  Ss[5] = s[1];
  Ss[10] = s[2];
  Ss[15] = s[3];
  for (i = 0; i <= 14; i += 2) {
    tmp_2 = _mm_loadu_pd(&Ss[i]);
    _mm_storeu_pd(&Ss[i], _mm_sqrt_pd(tmp_2));
  }

  for (i = 0; i < 4; i++) {
    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    Ss_tmp = i << 2;
    s_0 = Ss[Ss_tmp + 1];
    Ss_0 = Ss[Ss_tmp];
    Ss_1 = Ss[Ss_tmp + 2];
    Ss_2 = Ss[Ss_tmp + 3];
    for (coffset = 0; coffset <= 2; coffset += 2) {
      tmp_2 = _mm_loadu_pd(&b_V[coffset + 4]);
      tmp = _mm_loadu_pd(&b_V[coffset]);
      tmp_0 = _mm_loadu_pd(&b_V[coffset + 8]);
      tmp_1 = _mm_loadu_pd(&b_V[coffset + 12]);
      _mm_storeu_pd(&b_V_0[coffset + Ss_tmp], _mm_add_pd(_mm_add_pd(_mm_add_pd
        (_mm_mul_pd(_mm_set1_pd(s_0), tmp_2), _mm_mul_pd(_mm_set1_pd(Ss_0), tmp)),
        _mm_mul_pd(_mm_set1_pd(Ss_1), tmp_0)), _mm_mul_pd(_mm_set1_pd(Ss_2),
        tmp_1)));
    }
  }

  for (i = 0; i < 3; i++) {
    /* Start for MATLABSystem: '<S9>/MATLAB System' incorporates:
     *  DataStoreRead: '<S9>/Data Store ReadX'
     */
    tmp_4[i] = rtDW.x[i];
  }

  /* DataStoreRead: '<S9>/Data Store ReadP' */
  memcpy(&A[0], &rtDW.P_i[0], 9U * sizeof(real_T));

  /* MATLABSystem: '<S9>/MATLAB System' */
  EKFCorrectorNonAdditive_getMeas(b_V_0, tmp_4, A, s, K, Ss, dHdx, b_V);
  for (i = 0; i < 3; i++) {
    Ss_tmp = i << 2;
    B_3[Ss_tmp] = K[i];
    B_3[Ss_tmp + 1] = K[i + 3];
    B_3[Ss_tmp + 2] = K[i + 6];
    B_3[Ss_tmp + 3] = K[i + 9];
  }

  for (i = 0; i < 3; i++) {
    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    coffset = i << 2;
    K[coffset] = B_3[coffset];
    K[coffset + 1] = B_3[coffset + 1];
    K[coffset + 2] = B_3[coffset + 2];
    K[coffset + 3] = B_3[coffset + 3];
  }

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  trisolve(Ss, K);

  /* MATLABSystem: '<S9>/MATLAB System' */
  for (i = 0; i < 3; i++) {
    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    Ss_tmp = i << 2;
    B_3[Ss_tmp] = K[Ss_tmp];
    B_3[Ss_tmp + 1] = K[Ss_tmp + 1];
    B_3[Ss_tmp + 2] = K[Ss_tmp + 2];
    B_3[Ss_tmp + 3] = K[Ss_tmp + 3];
  }

  for (i = 0; i < 4; i++) {
    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    Ss_tmp = i << 2;
    b_V_0[Ss_tmp] = Ss[i];
    b_V_0[Ss_tmp + 1] = Ss[i + 4];
    b_V_0[Ss_tmp + 2] = Ss[i + 8];
    b_V_0[Ss_tmp + 3] = Ss[i + 12];
  }

  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  trisolve_a(b_V_0, B_3);

  /* MATLABSystem: '<S9>/MATLAB System' */
  for (i = 0; i < 4; i++) {
    K[3 * i] = B_3[i];
    K[3 * i + 1] = B_3[i + 4];
    K[3 * i + 2] = B_3[i + 8];
  }

  for (i = 0; i <= 10; i += 2) {
    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    tmp_2 = _mm_loadu_pd(&K[i]);
    _mm_storeu_pd(&B_3[i], _mm_mul_pd(tmp_2, _mm_set1_pd(-1.0)));
  }

  /* MATLABSystem: '<S9>/MATLAB System' */
  for (i = 0; i < 3; i++) {
    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    Ss_tmp = i << 2;
    s_0 = dHdx[Ss_tmp + 1];
    Ss_0 = dHdx[Ss_tmp];
    Ss_1 = dHdx[Ss_tmp + 2];
    Ss_2 = dHdx[Ss_tmp + 3];
    for (coffset = 0; coffset <= 0; coffset += 2) {
      tmp_2 = _mm_loadu_pd(&B_3[coffset + 3]);
      tmp = _mm_loadu_pd(&B_3[coffset]);
      tmp_0 = _mm_loadu_pd(&B_3[coffset + 6]);
      tmp_1 = _mm_loadu_pd(&B_3[coffset + 9]);
      _mm_storeu_pd(&A[coffset + 3 * i], _mm_add_pd(_mm_add_pd(_mm_add_pd
        (_mm_mul_pd(_mm_set1_pd(s_0), tmp_2), _mm_mul_pd(_mm_set1_pd(Ss_0), tmp)),
        _mm_mul_pd(_mm_set1_pd(Ss_1), tmp_0)), _mm_mul_pd(_mm_set1_pd(Ss_2),
        tmp_1)));
    }

    for (coffset = 2; coffset < 3; coffset++) {
      A[coffset + 3 * i] = ((B_3[coffset + 3] * s_0 + Ss_0 * B_3[coffset]) +
                            B_3[coffset + 6] * Ss_1) + B_3[coffset + 9] * Ss_2;
    }
  }

  /* End of Outputs for SubSystem: '<S1>/Correct1' */

  /* MATLAB Function: '<S5>/MATLAB Function' incorporates:
   *  MATLABSystem: '<S9>/MATLAB System'
   *  Sum: '<S8>/Add'
   * */
  tmp_2 = _mm_set1_pd(0.1);

  /* Outputs for Enabled SubSystem: '<S1>/Correct1' incorporates:
   *  EnablePort: '<S9>/Enable'
   */
  tmp = _mm_sub_pd(_mm_mul_pd(tmp_2, _mm_loadu_pd(&randomMatrix_h[0])),
                   _mm_loadu_pd(&s[0]));

  /* End of Outputs for SubSystem: '<S1>/Correct1' */
  _mm_storeu_pd(&tmp_3[0], tmp);

  /* Outputs for Enabled SubSystem: '<S1>/Correct1' incorporates:
   *  EnablePort: '<S9>/Enable'
   */
  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  s_0 = tmp_3[0];
  Ss_0 = tmp_3[1];

  /* MATLAB Function: '<S5>/MATLAB Function' incorporates:
   *  MATLABSystem: '<S9>/MATLAB System'
   *  Sum: '<S8>/Add'
   * */
  tmp_2 = _mm_sub_pd(_mm_mul_pd(tmp_2, _mm_loadu_pd(&randomMatrix_h[2])),
                     _mm_loadu_pd(&s[2]));

  /* End of Outputs for SubSystem: '<S1>/Correct1' */
  _mm_storeu_pd(&tmp_3[0], tmp_2);

  /* Outputs for Enabled SubSystem: '<S1>/Correct1' incorporates:
   *  EnablePort: '<S9>/Enable'
   */
  /* Start for MATLABSystem: '<S9>/MATLAB System' */
  Ss_1 = tmp_3[0];
  Ss_2 = tmp_3[1];
  for (Ss_tmp = 0; Ss_tmp < 3; Ss_tmp++) {
    /* MATLABSystem: '<S9>/MATLAB System' */
    coffset = 3 * Ss_tmp + Ss_tmp;
    A[coffset]++;

    /* Start for MATLABSystem: '<S9>/MATLAB System' */
    K_0 = K[Ss_tmp + 3];
    K_1 = K[Ss_tmp];
    K_2 = K[Ss_tmp + 6];
    K_3 = K[Ss_tmp + 9];
    for (i = 0; i < 4; i++) {
      coffset = i << 2;
      B_3[Ss_tmp + 3 * i] = ((b_V[coffset + 1] * K_0 + b_V[coffset] * K_1) +
        b_V[coffset + 2] * K_2) + b_V[coffset + 3] * K_3;
    }

    /* DataStoreWrite: '<S9>/Data Store WriteX' incorporates:
     *  DataStoreRead: '<S9>/Data Store ReadX'
     *  MATLABSystem: '<S9>/MATLAB System'
     * */
    rtDW.x[Ss_tmp] += ((K_0 * Ss_0 + K_1 * s_0) + K_2 * Ss_1) + K_3 * Ss_2;

    /* RateTransition generated from: '<Root>/Simulink Function' */
    rtDW.TmpRTBAtSimulinkFunctionInport1[Ss_tmp] =
      rtDW.TmpRTBAtSimulinkFunctionInpor_m[Ss_tmp];
  }

  /* Start for MATLABSystem: '<S9>/MATLAB System' incorporates:
   *  DataStoreWrite: '<S9>/Data Store WriteP'
   */
  qrFactor(A, rtb_MATLABSystem_o2_n, B_3, rtDW.P_i);

  /* End of Outputs for SubSystem: '<S1>/Correct1' */

  /* Outputs for Atomic SubSystem: '<S1>/Predict' */
  /* DataStoreRead: '<S11>/Data Store ReadP' */
  memcpy(&rtb_MATLABSystem_o2_n[0], &rtDW.P_i[0], 9U * sizeof(real_T));

  /* Start for MATLABSystem: '<S11>/MATLAB System' incorporates:
   *  DataStoreRead: '<S11>/Data Store ReadX'
   */
  w[0] = 0.0;
  w[1] = 0.0;
  w[2] = 0.0;
  carsim_ekf_onlyfunction_stateTransitionJacobianFcn(rtDW.x, w, b_varargout_1,
    b_varargout_2);
  w[0] = 0.0;
  w[1] = 0.0;
  w[2] = 0.0;
  carsim_ekf_onlyfunction_stateTransitionFcn(rtDW.x, w, rtb_MATLABSystem_o1_0);
  for (i = 0; i < 3; i++) {
    /* MATLABSystem: '<S11>/MATLAB System' */
    coffset = i * 3 - 1;

    /* Start for MATLABSystem: '<S11>/MATLAB System' incorporates:
     *  Constant: '<S1>/Q'
     */
    s_0 = rtCP_Q_Value[3 * i + 1];
    Ss_0 = rtCP_Q_Value[3 * i];
    Ss_1 = rtCP_Q_Value[3 * i + 2];
    Ss_2 = b_varargout_1[i];
    K_0 = b_varargout_1[i + 3];
    K_1 = b_varargout_1[i + 6];
    for (Ss_tmp = 0; Ss_tmp < 3; Ss_tmp++) {
      /* Start for MATLABSystem: '<S11>/MATLAB System' incorporates:
       *  Constant: '<S1>/Q'
       */
      _mm_storeu_pd(&tmp_3[0], _mm_add_pd(_mm_add_pd(_mm_mul_pd(_mm_set_pd
        (rtb_MATLABSystem_o2_n[Ss_tmp * 3], s_0), _mm_set_pd(Ss_2,
        b_varargout_2[Ss_tmp + 3])), _mm_mul_pd(_mm_set_pd
        (rtb_MATLABSystem_o2_n[Ss_tmp * 3 + 1], Ss_0), _mm_set_pd(K_0,
        b_varargout_2[Ss_tmp]))), _mm_mul_pd(_mm_set_pd
        (rtb_MATLABSystem_o2_n[Ss_tmp * 3 + 2], Ss_1), _mm_set_pd(K_1,
        b_varargout_2[Ss_tmp + 6]))));
      b_varargout_2_0[i + 3 * Ss_tmp] = tmp_3[0];

      /* MATLABSystem: '<S11>/MATLAB System' */
      A[(coffset + Ss_tmp) + 1] = tmp_3[1];
    }
  }

  for (i = 0; i < 3; i++) {
    /* Start for MATLABSystem: '<S11>/MATLAB System' */
    A_0[6 * i] = A[3 * i];
    A_0[6 * i + 3] = b_varargout_2_0[3 * i];
    coffset = 3 * i + 1;
    A_0[6 * i + 1] = A[coffset];
    A_0[6 * i + 4] = b_varargout_2_0[coffset];
    coffset = 3 * i + 2;
    A_0[6 * i + 2] = A[coffset];
    A_0[6 * i + 5] = b_varargout_2_0[coffset];
  }

  /* MATLABSystem: '<S11>/MATLAB System' */
  qr(A_0, a__1, b_varargout_1);
  for (i = 0; i < 3; i++) {
    /* DataStoreWrite: '<S11>/Data Store WriteP' incorporates:
     *  MATLABSystem: '<S11>/MATLAB System'
     * */
    rtDW.P_i[3 * i] = b_varargout_1[i];
    rtDW.P_i[3 * i + 1] = b_varargout_1[i + 3];
    rtDW.P_i[3 * i + 2] = b_varargout_1[i + 6];

    /* DataStoreWrite: '<S11>/Data Store WriteX' incorporates:
     *  MATLABSystem: '<S11>/MATLAB System'
     */
    rtDW.x[i] = rtb_MATLABSystem_o1_0[i];
  }

  /* End of Outputs for SubSystem: '<S1>/Predict' */
}

/* Model initialize function */
void carsim_ekf_onlyfunction_initialize(void)
{
  /* Registration code */

  /* initialize non-finites */
  rt_InitInfAndNaN(sizeof(real_T));

  {
    /* Setup solver object */
    rtsiSetSimTimeStepPtr(&rtM->solverInfo, &rtM->Timing.simTimeStep);
    rtsiSetTPtr(&rtM->solverInfo, &rtmGetTPtr(rtM));
    rtsiSetStepSizePtr(&rtM->solverInfo, &rtM->Timing.stepSize0);
    rtsiSetErrorStatusPtr(&rtM->solverInfo, (&rtmGetErrorStatus(rtM)));
    rtsiSetRTModelPtr(&rtM->solverInfo, rtM);
  }

  rtsiSetSimTimeStep(&rtM->solverInfo, MAJOR_TIME_STEP);
  rtsiSetIsMinorTimeStepWithModeChange(&rtM->solverInfo, false);
  rtsiSetIsContModeFrozen(&rtM->solverInfo, false);
  rtsiSetSolverName(&rtM->solverInfo,"FixedStepDiscrete");
  rtmSetTPtr(rtM, &rtM->Timing.tArray[0]);
  rtM->Timing.stepSize0 = 0.001;

  {
    static const uint32_T tmp[625] = { 5489U, 1301868182U, 2938499221U,
      2950281878U, 1875628136U, 751856242U, 944701696U, 2243192071U, 694061057U,
      219885934U, 2066767472U, 3182869408U, 485472502U, 2336857883U, 1071588843U,
      3418470598U, 951210697U, 3693558366U, 2923482051U, 1793174584U,
      2982310801U, 1586906132U, 1951078751U, 1808158765U, 1733897588U,
      431328322U, 4202539044U, 530658942U, 1714810322U, 3025256284U, 3342585396U,
      1937033938U, 2640572511U, 1654299090U, 3692403553U, 4233871309U,
      3497650794U, 862629010U, 2943236032U, 2426458545U, 1603307207U,
      1133453895U, 3099196360U, 2208657629U, 2747653927U, 931059398U, 761573964U,
      3157853227U, 785880413U, 730313442U, 124945756U, 2937117055U, 3295982469U,
      1724353043U, 3021675344U, 3884886417U, 4010150098U, 4056961966U,
      699635835U, 2681338818U, 1339167484U, 720757518U, 2800161476U, 2376097373U,
      1532957371U, 3902664099U, 1238982754U, 3725394514U, 3449176889U,
      3570962471U, 4287636090U, 4087307012U, 3603343627U, 202242161U,
      2995682783U, 1620962684U, 3704723357U, 371613603U, 2814834333U,
      2111005706U, 624778151U, 2094172212U, 4284947003U, 1211977835U, 991917094U,
      1570449747U, 2962370480U, 1259410321U, 170182696U, 146300961U, 2836829791U,
      619452428U, 2723670296U, 1881399711U, 1161269684U, 1675188680U,
      4132175277U, 780088327U, 3409462821U, 1036518241U, 1834958505U,
      3048448173U, 161811569U, 618488316U, 44795092U, 3918322701U, 1924681712U,
      3239478144U, 383254043U, 4042306580U, 2146983041U, 3992780527U,
      3518029708U, 3545545436U, 3901231469U, 1896136409U, 2028528556U,
      2339662006U, 501326714U, 2060962201U, 2502746480U, 561575027U, 581893337U,
      3393774360U, 1778912547U, 3626131687U, 2175155826U, 319853231U, 986875531U,
      819755096U, 2915734330U, 2688355739U, 3482074849U, 2736559U, 2296975761U,
      1029741190U, 2876812646U, 690154749U, 579200347U, 4027461746U, 1285330465U,
      2701024045U, 4117700889U, 759495121U, 3332270341U, 2313004527U,
      2277067795U, 4131855432U, 2722057515U, 1264804546U, 3848622725U,
      2211267957U, 4100593547U, 959123777U, 2130745407U, 3194437393U, 486673947U,
      1377371204U, 17472727U, 352317554U, 3955548058U, 159652094U, 1232063192U,
      3835177280U, 49423123U, 3083993636U, 733092U, 2120519771U, 2573409834U,
      1112952433U, 3239502554U, 761045320U, 1087580692U, 2540165110U, 641058802U,
      1792435497U, 2261799288U, 1579184083U, 627146892U, 2165744623U,
      2200142389U, 2167590760U, 2381418376U, 1793358889U, 3081659520U,
      1663384067U, 2009658756U, 2689600308U, 739136266U, 2304581039U,
      3529067263U, 591360555U, 525209271U, 3131882996U, 294230224U, 2076220115U,
      3113580446U, 1245621585U, 1386885462U, 3203270426U, 123512128U, 12350217U,
      354956375U, 4282398238U, 3356876605U, 3888857667U, 157639694U, 2616064085U,
      1563068963U, 2762125883U, 4045394511U, 4180452559U, 3294769488U,
      1684529556U, 1002945951U, 3181438866U, 22506664U, 691783457U, 2685221343U,
      171579916U, 3878728600U, 2475806724U, 2030324028U, 3331164912U,
      1708711359U, 1970023127U, 2859691344U, 2588476477U, 2748146879U,
      136111222U, 2967685492U, 909517429U, 2835297809U, 3206906216U, 3186870716U,
      341264097U, 2542035121U, 3353277068U, 548223577U, 3170936588U, 1678403446U,
      297435620U, 2337555430U, 466603495U, 1132321815U, 1208589219U, 696392160U,
      894244439U, 2562678859U, 470224582U, 3306867480U, 201364898U, 2075966438U,
      1767227936U, 2929737987U, 3674877796U, 2654196643U, 3692734598U,
      3528895099U, 2796780123U, 3048728353U, 842329300U, 191554730U, 2922459673U,
      3489020079U, 3979110629U, 1022523848U, 2202932467U, 3583655201U,
      3565113719U, 587085778U, 4176046313U, 3013713762U, 950944241U, 396426791U,
      3784844662U, 3477431613U, 3594592395U, 2782043838U, 3392093507U,
      3106564952U, 2829419931U, 1358665591U, 2206918825U, 3170783123U, 31522386U,
      2988194168U, 1782249537U, 1105080928U, 843500134U, 1225290080U,
      1521001832U, 3605886097U, 2802786495U, 2728923319U, 3996284304U,
      903417639U, 1171249804U, 1020374987U, 2824535874U, 423621996U, 1988534473U,
      2493544470U, 1008604435U, 1756003503U, 1488867287U, 1386808992U,
      732088248U, 1780630732U, 2482101014U, 976561178U, 1543448953U, 2602866064U,
      2021139923U, 1952599828U, 2360242564U, 2117959962U, 2753061860U,
      2388623612U, 4138193781U, 2962920654U, 2284970429U, 766920861U,
      3457264692U, 2879611383U, 815055854U, 2332929068U, 1254853997U,
      3740375268U, 3799380844U, 4091048725U, 2006331129U, 1982546212U,
      686850534U, 1907447564U, 2682801776U, 2780821066U, 998290361U, 1342433871U,
      4195430425U, 607905174U, 3902331779U, 2454067926U, 1708133115U,
      1170874362U, 2008609376U, 3260320415U, 2211196135U, 433538229U,
      2728786374U, 2189520818U, 262554063U, 1182318347U, 3710237267U,
      1221022450U, 715966018U, 2417068910U, 2591870721U, 2870691989U,
      3418190842U, 4238214053U, 1540704231U, 1575580968U, 2095917976U,
      4078310857U, 2313532447U, 2110690783U, 4056346629U, 4061784526U,
      1123218514U, 551538993U, 597148360U, 4120175196U, 3581618160U, 3181170517U,
      422862282U, 3227524138U, 1713114790U, 662317149U, 1230418732U, 928171837U,
      1324564878U, 1928816105U, 1786535431U, 2878099422U, 3290185549U,
      539474248U, 1657512683U, 552370646U, 1671741683U, 3655312128U, 1552739510U,
      2605208763U, 1441755014U, 181878989U, 3124053868U, 1447103986U,
      3183906156U, 1728556020U, 3502241336U, 3055466967U, 1013272474U,
      818402132U, 1715099063U, 2900113506U, 397254517U, 4194863039U, 1009068739U,
      232864647U, 2540223708U, 2608288560U, 2415367765U, 478404847U, 3455100648U,
      3182600021U, 2115988978U, 434269567U, 4117179324U, 3461774077U, 887256537U,
      3545801025U, 286388911U, 3451742129U, 1981164769U, 786667016U, 3310123729U,
      3097811076U, 2224235657U, 2959658883U, 3370969234U, 2514770915U,
      3345656436U, 2677010851U, 2206236470U, 271648054U, 2342188545U,
      4292848611U, 3646533909U, 3754009956U, 3803931226U, 4160647125U,
      1477814055U, 4043852216U, 1876372354U, 3133294443U, 3871104810U,
      3177020907U, 2074304428U, 3479393793U, 759562891U, 164128153U, 1839069216U,
      2114162633U, 3989947309U, 3611054956U, 1333547922U, 835429831U, 494987340U,
      171987910U, 1252001001U, 370809172U, 3508925425U, 2535703112U, 1276855041U,
      1922855120U, 835673414U, 3030664304U, 613287117U, 171219893U, 3423096126U,
      3376881639U, 2287770315U, 1658692645U, 1262815245U, 3957234326U,
      1168096164U, 2968737525U, 2655813712U, 2132313144U, 3976047964U,
      326516571U, 353088456U, 3679188938U, 3205649712U, 2654036126U, 1249024881U,
      880166166U, 691800469U, 2229503665U, 1673458056U, 4032208375U, 1851778863U,
      2563757330U, 376742205U, 1794655231U, 340247333U, 1505873033U, 396524441U,
      879666767U, 3335579166U, 3260764261U, 3335999539U, 506221798U, 4214658741U,
      975887814U, 2080536343U, 3360539560U, 571586418U, 138896374U, 4234352651U,
      2737620262U, 3928362291U, 1516365296U, 38056726U, 3599462320U, 3585007266U,
      3850961033U, 471667319U, 1536883193U, 2310166751U, 1861637689U,
      2530999841U, 4139843801U, 2710569485U, 827578615U, 2012334720U,
      2907369459U, 3029312804U, 2820112398U, 1965028045U, 35518606U, 2478379033U,
      643747771U, 1924139484U, 4123405127U, 3811735531U, 3429660832U,
      3285177704U, 1948416081U, 1311525291U, 1183517742U, 1739192232U,
      3979815115U, 2567840007U, 4116821529U, 213304419U, 4125718577U,
      1473064925U, 2442436592U, 1893310111U, 4195361916U, 3747569474U,
      828465101U, 2991227658U, 750582866U, 1205170309U, 1409813056U, 678418130U,
      1171531016U, 3821236156U, 354504587U, 4202874632U, 3882511497U,
      1893248677U, 1903078632U, 26340130U, 2069166240U, 3657122492U, 3725758099U,
      831344905U, 811453383U, 3447711422U, 2434543565U, 4166886888U, 3358210805U,
      4142984013U, 2988152326U, 3527824853U, 982082992U, 2809155763U, 190157081U,
      3340214818U, 2365432395U, 2548636180U, 2894533366U, 3474657421U,
      2372634704U, 2845748389U, 43024175U, 2774226648U, 1987702864U, 3186502468U,
      453610222U, 4204736567U, 1392892630U, 2471323686U, 2470534280U,
      3541393095U, 4269885866U, 3909911300U, 759132955U, 1482612480U, 667715263U,
      1795580598U, 2337923983U, 3390586366U, 581426223U, 1515718634U, 476374295U,
      705213300U, 363062054U, 2084697697U, 2407503428U, 2292957699U, 2426213835U,
      2199989172U, 1987356470U, 4026755612U, 2147252133U, 270400031U,
      1367820199U, 2369854699U, 2844269403U, 79981964U, 624U };

    /* Start for DataStoreMemory: '<S1>/DataStoreMemory - P' */
    memcpy(&rtDW.P_i[0], &rtCP_DataStoreMemoryP_InitialVa[0], 9U * sizeof(real_T));

    /* Start for DataStoreMemory: '<S1>/DataStoreMemory - x' */
    rtDW.x[0] = 15.0;
    rtDW.x[1] = 0.0;
    rtDW.x[2] = 0.0;

    /* SystemInitialize for MATLAB Function: '<S5>/MATLAB Function' */
    rtDW.method_p = 7U;
    rtDW.state_o = 1144108930U;
    rtDW.state_i[0] = 362436069U;
    rtDW.state_k[0] = 362436069U;
    rtDW.state_i[1] = 521288629U;
    rtDW.state_k[1] = 521288629U;
    memcpy(&rtDW.state_e[0], &tmp[0], 625U * sizeof(uint32_T));

    /* SystemInitialize for MATLAB Function: '<S7>/MATLAB Function1' */
    memcpy(&rtDW.state_jx[0], &tmp[0], 625U * sizeof(uint32_T));
    rtDW.method_n = 7U;
    rtDW.state_n = 1144108930U;
    rtDW.state[0] = 362436069U;
    rtDW.state_j[0] = 362436069U;
    rtDW.state[1] = 521288629U;
    rtDW.state_j[1] = 521288629U;
  }
}

/*
 * File trailer for generated code.
 *
 * [EOF]
 */
